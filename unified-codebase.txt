CV LANDING PAGE GENERATOR - UNIFIED CODEBASE
Generated: 07/10/2025 08:21:55
Project Root: C:\Coding\cv-landing-generator
========================================

=====================================
DIRECTORY: .
PATH: C:\Coding\cv-landing-generator\.
=====================================

--------------------------------------------------------------------------------
FILE: debug-gemini.js
SIZE: 5234 bytes (5.1 KB)
--------------------------------------------------------------------------------
// File: debug-gemini.js
// Run this file to debug your Gemini API setup

require('dotenv').config();

console.log('=== GEMINI API DEBUG ===');
console.log('Node version:', process.version);
console.log('Current working directory:', process.cwd());

// Check environment variables
console.log('\n=== ENVIRONMENT VARIABLES ===');
console.log('GEMINI_API_KEY exists:', !!process.env.GEMINI_API_KEY);
console.log('GEMINI_API_KEY length:', process.env.GEMINI_API_KEY ? process.env.GEMINI_API_KEY.length : 0);
console.log('GEMINI_API_KEY first 10 chars:', process.env.GEMINI_API_KEY ? process.env.GEMINI_API_KEY.substring(0, 10) + '...' : 'NOT SET');
console.log('GEMINI_API_KEY last 5 chars:', process.env.GEMINI_API_KEY ? '...' + process.env.GEMINI_API_KEY.slice(-5) : 'NOT SET');

// Check if .env file exists
const fs = require('fs');
const path = require('path');
const envPath = path.join(process.cwd(), '.env');
console.log('\n=== .ENV FILE ===');
console.log('.env file exists:', fs.existsSync(envPath));

if (fs.existsSync(envPath)) {
    const envContent = fs.readFileSync(envPath, 'utf8');
    const lines = envContent.split('\n');
    const geminiLine = lines.find(line => line.startsWith('GEMINI_API_KEY'));
    console.log('GEMINI_API_KEY line in .env:', geminiLine ? 'Found' : 'Not found');
    
    if (geminiLine) {
        console.log('Line content (masked):', geminiLine.substring(0, 20) + '...');
        
        // Check for common issues
        if (geminiLine.includes(' ')) {
            console.log('⚠️  WARNING: API key line contains spaces');
        }
        if (geminiLine.includes('"') || geminiLine.includes("'")) {
            console.log('⚠️  WARNING: API key line contains quotes');
        }
        if (geminiLine.includes('#')) {
            console.log('⚠️  WARNING: API key line might be commented out');
        }
    }
}

// Test basic Gemini API connectivity
async function testGeminiAPI() {
    console.log('\n=== TESTING GEMINI API ===');
    
    if (!process.env.GEMINI_API_KEY) {
        console.log('❌ Cannot test - no API key found');
        return;
    }

    try {
        const { GoogleGenerativeAI } = require('@google/generative-ai');
        console.log('✅ @google/generative-ai package loaded successfully');
        
        const genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);
        console.log('✅ GoogleGenerativeAI instance created');
        
        const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
        console.log('✅ Model instance created');
        
        console.log('🔄 Testing simple API call...');
        const result = await model.generateContent("Say hello in one word");
        const response = await result.response;
        const text = response.text();
        
        console.log('✅ API call successful!');
        console.log('Response:', text.trim());
        
    } catch (error) {
        console.log('❌ API test failed:');
        console.log('Error type:', error.constructor.name);
        console.log('Error message:', error.message);
        
        if (error.message.includes('API_KEY_INVALID')) {
            console.log('\n💡 SOLUTION SUGGESTIONS:');
            console.log('1. Verify your API key is correct at: https://makersuite.google.com/app/apikey');
            console.log('2. Make sure the API key has no extra spaces or characters');
            console.log('3. Try regenerating the API key');
            console.log('4. Ensure your .env file format is: GEMINI_API_KEY=your_key_here');
        }
    }
}

// Check .env file format
function checkEnvFormat() {
    console.log('\n=== CHECKING .ENV FORMAT ===');
    
    const envPath = path.join(process.cwd(), '.env');
    if (!fs.existsSync(envPath)) {
        console.log('❌ .env file not found');
        console.log('💡 Create a .env file with: GEMINI_API_KEY=your_actual_api_key');
        return;
    }
    
    const envContent = fs.readFileSync(envPath, 'utf8');
    console.log('✅ .env file found');
    
    // Show format examples
    console.log('\n📝 CORRECT .env FORMAT:');
    console.log('GEMINI_API_KEY=AIzaSyD...');
    console.log('JWT_SECRET=your_jwt_secret');
    console.log('');
    console.log('❌ INCORRECT FORMATS:');
    console.log('GEMINI_API_KEY = AIzaSyD...  (spaces around =)');
    console.log('GEMINI_API_KEY="AIzaSyD..."  (quotes)');
    console.log('# GEMINI_API_KEY=AIzaSyD...  (commented out)');
}

// Run all checks
async function runAllChecks() {
    checkEnvFormat();
    await testGeminiAPI();
    
    console.log('\n=== NEXT STEPS ===');
    if (!process.env.GEMINI_API_KEY) {
        console.log('1. Get a Gemini API key from: https://makersuite.google.com/app/apikey');
        console.log('2. Add it to your .env file as: GEMINI_API_KEY=your_key_here');
        console.log('3. Restart your server');
    } else {
        console.log('1. If the API test failed, check the solution suggestions above');
        console.log('2. Try restarting your server after fixing the .env file');
    }
}

runAllChecks().catch(console.error);

[END OF FILE: debug-gemini.js]

--------------------------------------------------------------------------------
FILE: server.js
SIZE: 19195 bytes (18.7 KB)
--------------------------------------------------------------------------------
// File: server.js
const express = require('express');
const cors = require('cors');
const jwt = require('jsonwebtoken');
const { OAuth2Client } = require('google-auth-library');
const multer = require('multer');
const fs = require('fs');
const path = require('path');
const CVParser = require('./lib/cv-parser-modular');
const TemplateProcessor = require('./lib/template-processor');
require('dotenv').config();

const app = express();
const PORT = 3000;

// Validate required environment variables
if (!process.env.GEMINI_API_KEY) {
    console.error('ERROR: GEMINI_API_KEY is required for CV processing');
    process.exit(1);
}

if (!process.env.JWT_SECRET) {
    console.error('ERROR: JWT_SECRET is required for authentication');
    process.exit(1);
}

const templateProcessor = new TemplateProcessor();
const cvParser = new CVParser();

app.use(cors());
app.use(express.json({ limit: '50mb' }));
app.use(express.urlencoded({ limit: '50mb', extended: true }));

// Configure multer for file uploads
const upload = multer({
    dest: 'uploads/',
    limits: {
        fileSize: 10 * 1024 * 1024, // 10MB limit
    },
    fileFilter: (req, file, cb) => {
        const allowedTypes = [
            'application/pdf',
            'application/msword',
            'application/vnd.openxmlformats-officedocument.wordprocessingml.document'
        ];
        
        if (allowedTypes.includes(file.mimetype)) {
            cb(null, true);
        } else {
            cb(new Error('Invalid file type. Only PDF, DOC, and DOCX files are allowed.'));
        }
    }
});

// Create required directories
const uploadsDir = path.join(__dirname, 'uploads');
const generatedDir = path.join(__dirname, 'generated');
if (!fs.existsSync(uploadsDir)) {
    fs.mkdirSync(uploadsDir, { recursive: true });
}
if (!fs.existsSync(generatedDir)) {
    fs.mkdirSync(generatedDir, { recursive: true });
}

const client = new OAuth2Client(process.env.GOOGLE_CLIENT_ID);

// Store uploaded files info (in production, use database)
const uploadedFiles = new Map();
const generatedLandingPages = new Map();

// File upload handler
async function uploadHandler(req, res) {
    if (req.method !== 'POST') {
        res.status(405).json({ error: 'Method not allowed' });
        return;
    }

    try {
        const authHeader = req.headers.authorization;
        if (!authHeader || !authHeader.startsWith('Bearer ')) {
            res.status(401).json({ error: 'Authentication required' });
            return;
        }

        const token = authHeader.substring(7);
        
        try {
            const decoded = jwt.verify(token, process.env.JWT_SECRET);
            
            const uploadedFile = req.file;
            
            if (!uploadedFile) {
                res.status(400).json({ error: 'No file uploaded' });
                return;
            }

            const fileInfo = {
                id: Date.now().toString(),
                originalName: uploadedFile.originalname,
                filename: uploadedFile.filename,
                path: uploadedFile.path,
                size: uploadedFile.size,
                mimetype: uploadedFile.mimetype,
                uploadedAt: new Date().toISOString(),
                userId: decoded.userId,
                status: 'uploaded'
            };

            // Store file info
            uploadedFiles.set(fileInfo.id, fileInfo);

            res.status(200).json({
                success: true,
                message: 'File uploaded successfully',
                file: fileInfo
            });

        } catch (jwtError) {
            res.status(401).json({ error: 'Invalid token' });
            return;
        }

    } catch (error) {
        console.error('Upload error:', error);
        res.status(500).json({
            error: 'Upload failed',
            message: error.message
        });
    }
}

// Process file handler with real CV parsing (NO MOCK DATA)
async function processFileHandler(req, res) {
    if (req.method !== 'POST') {
        res.status(405).json({ error: 'Method not allowed' });
        return;
    }

    try {
        const { fileId } = req.body;
        
        if (!fileId) {
            res.status(400).json({ error: 'File ID is required' });
            return;
        }

        const fileInfo = uploadedFiles.get(fileId);
        if (!fileInfo) {
            res.status(404).json({ error: 'File not found' });
            return;
        }

        console.log('Processing CV file:', fileInfo.originalName);

        // Extract text from the uploaded file
        console.log('Extracting text from file...');
        const extractedText = await cvParser.extractTextFromFile(fileInfo.path, fileInfo.mimetype);
        console.log('Extracted text length:', extractedText.length);

        if (!extractedText || extractedText.trim().length === 0) {
            throw new Error('No text could be extracted from the file');
        }

        // Structure the data with Gemini AI (REAL PROCESSING - Phase 1)
        console.log('Processing with Modular CV Parser (Phase 1: Personal Info + About Me)...');
        const structuredData = await cvParser.processCV(extractedText);
        console.log('Structured data generated for:', structuredData.personalInfo?.name);

        // Validate the structured data
        if (!structuredData.personalInfo?.name) {
            throw new Error('Unable to extract name from CV');
        }

        // Update file status
        fileInfo.status = 'processed';
        fileInfo.processedAt = new Date().toISOString();
        fileInfo.extractedText = extractedText;
        fileInfo.structuredData = structuredData;
        uploadedFiles.set(fileId, fileInfo);

        res.status(200).json({
            success: true,
            message: 'CV processed successfully',
            extractedText: extractedText,
            structuredData: structuredData,
            fileId: fileId,
            processedAt: new Date().toISOString()
        });

    } catch (error) {
        console.error('CV processing error:', error);
        res.status(500).json({
            error: 'CV processing failed',
            message: error.message
        });
    }
}

// Status check handler
async function statusHandler(req, res) {
    if (req.method !== 'GET') {
        res.status(405).json({ error: 'Method not allowed' });
        return;
    }

    try {
        const { fileId } = req.query;
        
        if (!fileId) {
            res.status(400).json({ error: 'File ID is required' });
            return;
        }

        const fileInfo = uploadedFiles.get(fileId);
        if (!fileInfo) {
            res.status(404).json({ error: 'File not found' });
            return;
        }

        res.status(200).json({
            success: true,
            file: fileInfo
        });

    } catch (error) {
        console.error('Status check error:', error);
        res.status(500).json({
            error: 'Status check failed',
            message: error.message
        });
    }
}

// Auth handlers
async function loginHandler(req, res) {
    if (req.method !== 'POST') {
        res.status(405).json({ error: 'Method not allowed' });
        return;
    }

    try {
        const { credential } = req.body;

        if (!credential) {
            res.status(400).json({ error: 'Google credential is required' });
            return;
        }

        // For development, accept mock credential
        if (credential === 'mock_google_jwt_token_for_testing') {
            const user = {
                id: 'mock_user_123',
                email: 'test@example.com',
                name: 'Test User',
                picture: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxNTAiIGhlaWdodD0iMTUwIiBmaWxsPSIjMzMzIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI4MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE4IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+VGVzdCBVc2VyPC90ZXh0Pgo8L3N2Zz4K',
                verified: true
            };

            const token = jwt.sign(
                { userId: user.id, email: user.email },
                process.env.JWT_SECRET,
                { expiresIn: '7d' }
            );

            res.status(200).json({
                success: true,
                user: user,
                token: token,
                message: 'Login successful'
            });
        } else {
            // In production, verify with Google
            try {
                const ticket = await client.verifyIdToken({
                    idToken: credential,
                    audience: process.env.GOOGLE_CLIENT_ID,
                });

                const payload = ticket.getPayload();
                
                if (!payload) {
                    res.status(400).json({ error: 'Invalid Google token' });
                    return;
                }

                const user = {
                    id: payload.sub,
                    email: payload.email,
                    name: payload.name,
                    picture: payload.picture,
                    verified: payload.email_verified
                };

                const token = jwt.sign(
                    { userId: user.id, email: user.email },
                    process.env.JWT_SECRET,
                    { expiresIn: '7d' }
                );

                res.status(200).json({
                    success: true,
                    user: user,
                    token: token,
                    message: 'Login successful'
                });
            } catch (googleError) {
                res.status(400).json({ error: 'Invalid Google credential' });
            }
        }

    } catch (error) {
        console.error('Login error:', error);
        res.status(500).json({
            error: 'Authentication failed',
            message: error.message
        });
    }
}

async function logoutHandler(req, res) {
    if (req.method !== 'POST') {
        res.status(405).json({ error: 'Method not allowed' });
        return;
    }

    try {
        res.status(200).json({
            success: true,
            message: 'Logout successful'
        });
    } catch (error) {
        console.error('Logout error:', error);
        res.status(500).json({
            error: 'Logout failed',
            message: error.message
        });
    }
}

async function userHandler(req, res) {
    if (req.method !== 'GET') {
        res.status(405).json({ error: 'Method not allowed' });
        return;
    }

    try {
        const authHeader = req.headers.authorization;
        
        if (!authHeader || !authHeader.startsWith('Bearer ')) {
            res.status(401).json({ error: 'No token provided' });
            return;
        }

        const token = authHeader.substring(7);
        
        try {
            const decoded = jwt.verify(token, process.env.JWT_SECRET);
            
            res.status(200).json({
                success: true,
                user: {
                    id: decoded.userId,
                    email: decoded.email,
                    name: 'Test User',
                    picture: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxNTAiIGhlaWdodD0iMTUwIiBmaWxsPSIjMzMzIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI4MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE4IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+VGVzdCBVc2VyPC90ZXh0Pgo8L3N2Zz4K'
                }
            });
        } catch (jwtError) {
            res.status(401).json({ error: 'Invalid token' });
            return;
        }

    } catch (error) {
        console.error('User info error:', error);
        res.status(500).json({
            error: 'Failed to get user info',
            message: error.message
        });
    }
}

async function healthHandler(req, res) {
    try {
        res.status(200).json({
            status: 'healthy',
            message: 'CV Landing Generator API is running',
            timestamp: new Date().toISOString(),
            version: '1.0.0',
            geminiConfigured: !!process.env.GEMINI_API_KEY
        });
    } catch (error) {
        console.error('Health check error:', error);
        res.status(500).json({
            status: 'error',
            message: 'Internal server error'
        });
    }
}

async function testHandler(req, res) {
    try {
        const { method, query, body } = req;

        res.status(200).json({
            message: 'Test endpoint working!',
            requestMethod: method,
            queryParams: query,
            requestBody: body,
            timestamp: new Date().toISOString()
        });
    } catch (error) {
        console.error('Test endpoint error:', error);
        res.status(500).json({
            status: 'error',
            message: 'Internal server error',
            error: error.message
        });
    }
}

// Generate landing page handler - USE REAL CV DATA
async function generateLandingPageHandler(req, res) {
    if (req.method !== 'POST') {
        res.status(405).json({ error: 'Method not allowed' });
        return;
    }

    try {
        // Verify user is authenticated
        const authHeader = req.headers.authorization;
        if (!authHeader || !authHeader.startsWith('Bearer ')) {
            res.status(401).json({ error: 'Authentication required' });
            return;
        }

        const token = authHeader.substring(7);
        
        try {
            const decoded = jwt.verify(token, process.env.JWT_SECRET);
            
            const { structuredData } = req.body;
            
            if (!structuredData) {
                res.status(400).json({ error: 'Structured CV data is required' });
                return;
            }

            // Validate that this is real CV data, not mock
            if (!structuredData.personalInfo?.name || !structuredData.personalInfo?.email) {
                res.status(400).json({ error: 'Invalid CV data - missing required personal information' });
                return;
            }

            console.log('Generating landing page for:', structuredData.personalInfo.name);
            console.log('User ID:', decoded.userId);

            // Generate the landing page using REAL CV data
            const outputDir = path.join(__dirname, 'generated', decoded.userId, Date.now().toString());
            const result = await templateProcessor.generateLandingPage(structuredData, outputDir);

            // Store generation info
            const generationInfo = {
                id: Date.now().toString(),
                userId: decoded.userId,
                outputDir: outputDir,
                generatedAt: new Date().toISOString(),
                files: result.files,
                cvData: structuredData,
                personName: structuredData.personalInfo.name
            };

            // Store for later retrieval
            generatedLandingPages.set(generationInfo.id, generationInfo);

            console.log('Landing page generated successfully for:', structuredData.personalInfo.name);

            res.status(200).json({
                success: true,
                message: `Landing page generated successfully for ${structuredData.personalInfo.name}`,
                generation: generationInfo,
                previewUrl: `/preview/${generationInfo.id}`
            });

        } catch (jwtError) {
            res.status(401).json({ error: 'Invalid token' });
            return;
        }

    } catch (error) {
        console.error('Landing page generation error:', error);
        res.status(500).json({
            error: 'Generation failed',
            message: error.message
        });
    }
}

// Preview handler
async function previewHandler(req, res) {
    if (req.method !== 'GET') {
        res.status(405).json({ error: 'Method not allowed' });
        return;
    }

    try {
        const { previewId } = req.query;
        
        if (!previewId) {
            res.status(400).json({ error: 'Preview ID is required' });
            return;
        }

        const generationInfo = generatedLandingPages.get(previewId);
        
        if (!generationInfo) {
            res.status(404).json({ error: 'Preview not found' });
            return;
        }

        // Check if the generated files exist
        const indexPath = path.join(generationInfo.outputDir, 'index.html');
        
        if (!fs.existsSync(indexPath)) {
            res.status(404).json({ error: 'Generated files not found' });
            return;
        }

        res.status(200).json({
            success: true,
            message: `Preview ready for ${generationInfo.personName}`,
            previewId: previewId,
            generatedAt: generationInfo.generatedAt,
            files: generationInfo.files
        });

    } catch (error) {
        console.error('Preview error:', error);
        res.status(500).json({
            error: 'Preview failed',
            message: error.message
        });
    }
}

// API routes
app.get('/api/health', healthHandler);
app.get('/api/test', testHandler);
app.post('/api/test', testHandler);

// Auth routes
app.post('/api/auth/login', loginHandler);
app.post('/api/auth/logout', logoutHandler);
app.get('/api/auth/user', userHandler);

// File upload routes
app.post('/api/cv/upload', upload.single('cvFile'), uploadHandler);
app.post('/api/cv/process', processFileHandler);
app.get('/api/cv/status', statusHandler);

// Landing page generation routes
app.post('/api/cv/generate', generateLandingPageHandler);
app.get('/api/cv/preview', previewHandler);

app.listen(PORT, () => {
    console.log(`=================================`);
    console.log(`CV Landing Generator API Server`);
    console.log(`=================================`);
    console.log(`Server: http://localhost:${PORT}`);
    console.log(`Health: http://localhost:${PORT}/api/health`);
    console.log(`Upload: POST http://localhost:${PORT}/api/cv/upload`);
    console.log(`Process: POST http://localhost:${PORT}/api/cv/process`);
    console.log(`Generate: POST http://localhost:${PORT}/api/cv/generate`);
    console.log(`=================================`);
    console.log(`Gemini API: ${process.env.GEMINI_API_KEY ? '✓ Configured' : '✗ Missing'}`);
    console.log(`JWT Secret: ${process.env.JWT_SECRET ? '✓ Configured' : '✗ Missing'}`);
    console.log(`=================================`);
});

[END OF FILE: server.js]

--------------------------------------------------------------------------------
FILE: test-gemini.js
SIZE: 1972 bytes (1.9 KB)
--------------------------------------------------------------------------------
// File: test-gemini-comparison.js
// This runs the EXACT same code as your working test, but with more debugging

require('dotenv').config();

console.log('========== STANDALONE TEST DEBUG ==========');
console.log('Process ID:', process.pid);
console.log('Node version:', process.version);
console.log('Current working directory:', process.cwd());
console.log('Script path:', __filename);
console.log('GEMINI_API_KEY present:', !!process.env.GEMINI_API_KEY);
console.log('GEMINI_API_KEY length:', process.env.GEMINI_API_KEY ? process.env.GEMINI_API_KEY.length : 0);
console.log('GEMINI_API_KEY preview:', process.env.GEMINI_API_KEY ? process.env.GEMINI_API_KEY.substring(0, 15) + '...' : 'MISSING');
console.log('GEMINI_API_KEY ends with:', process.env.GEMINI_API_KEY ? '...' + process.env.GEMINI_API_KEY.slice(-5) : 'N/A');

async function testGeminiAPI() {
    console.log('Testing Gemini API Key...');
    
    if (!process.env.GEMINI_API_KEY) {
        console.log('ERROR: No GEMINI_API_KEY found in environment variables');
        return;
    }

    try {
        const { GoogleGenerativeAI } = require('@google/generative-ai');
        const genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);
        const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });

        console.log('Testing API call...');
        const prompt = "Say hello in one word";
        const result = await model.generateContent(prompt);
        const response = await result.response;
        const text = response.text();

        console.log('SUCCESS! Gemini API is working');
        console.log('Sent:', prompt);
        console.log('Received:', text);
        
    } catch (error) {
        console.log('FAILED! Gemini API error:');
        console.log('Error type:', error.constructor.name);
        console.log('Error message:', error.message);
        console.log('Full error:', error);
    }
}

testGeminiAPI();

[END OF FILE: test-gemini.js]

--------------------------------------------------------------------------------
FILE: package.json
SIZE: 608 bytes (0.6 KB)
--------------------------------------------------------------------------------
{
  "name": "cv-landing-generator",
  "version": "1.0.0",
  "scripts": {
    "dev": "concurrently \"npm run dev:api\" \"npm run dev:frontend\"",
    "dev:frontend": "cd frontend && ng serve",
    "dev:api": "node server.js",
    "build": "cd frontend && ng build"
  },
  "dependencies": {
    "@google/generative-ai": "^0.24.1",
    "cors": "^2.8.5",
    "dotenv": "^17.0.1",
    "express": "^4.21.2",
    "google-auth-library": "^10.1.0",
    "jsonwebtoken": "^9.0.2",
    "mammoth": "^1.9.1",
    "multer": "^2.0.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "concurrently": "^8.2.0"
  }
}

[END OF FILE: package.json]

--------------------------------------------------------------------------------
FILE: vercel.json
SIZE: 439 bytes (0.4 KB)
--------------------------------------------------------------------------------
{
  "version": 2,
  "builds": [
    {
      "src": "frontend/dist/**/*",
      "use": "@vercel/static"
    },
    {
      "src": "api/**/*.js",
      "use": "@vercel/node"
    }
  ],
  "routes": [
    {
      "src": "/api/(.*)",
      "dest": "/api/$1"
    },
    {
      "src": "/(.*)",
      "dest": "/frontend/dist/$1"
    }
  ],
  "functions": {
    "api/**/*.js": {
      "runtime": "nodejs18.x"
    }
  }
}

[END OF FILE: vercel.json]

--------------------------------------------------------------------------------
FILE: .env.example
SIZE: 542 bytes (0.5 KB)
--------------------------------------------------------------------------------
# Google OAuth Configuration
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
JWT_SECRET=your_super_secret_jwt_key_here_make_it_long_and_random

# Gemini AI Configuration
GEMINI_API_KEY=your_gemini_api_key_here

# GitHub Integration (when we add it)
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Development URLs
FRONTEND_URL=http://localhost:4200
API_URL=http://localhost:3000

# Vercel Integration (when we add it)
VERCEL_TOKEN=your_vercel_token_here

[END OF FILE: .env.example]

--------------------------------------------------------------------------------
FILE: .gitignore
SIZE: 2426 bytes (2.4 KB)
--------------------------------------------------------------------------------
# Node.js dependencies
node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# Angular build outputs
frontend/dist/
frontend/tmp/
frontend/out-tsc/

# Environment variables
.env
.env.local
.env.development.local
.env.test.local
.env.production.local

# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Coverage directory used by tools like istanbul
coverage/
*.lcov

# nyc test coverage
.nyc_output

# Dependency directories
node_modules/
jspm_packages/

# Optional npm cache directory
.npm

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# dotenv environment variables file
.env

# parcel-bundler cache (https://parceljs.org/)
.cache
.parcel-cache

# next.js build output
.next

# nuxt.js build output
.nuxt

# vuepress build output
.vuepress/dist

# Serverless directories
.serverless

# FuseBox cache
.fusebox/

# DynamoDB Local files
.dynamodb/

# TernJS port file
.tern-port

# Uploaded files (temporary storage)
uploads/
temp/
generated/
*.pdf
*.doc
*.docx
*.jpg
*.jpeg
*.png
*.gif

# IDE and editor files
.vscode/
.idea/
*.swp
*.swo
*~

# OS generated files
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db

# Windows
*.lnk

# Angular specific
frontend/.angular/
frontend/e2e/
frontend/*.log

# Testing
coverage/
karma-debug.log

# Vercel
.vercel

# Database files (if using SQLite)
*.db
*.sqlite
*.sqlite3

# Backup files
*.bak
*.backup

# Package lock files (choose one)
# package-lock.json  # Uncomment if using yarn
# yarn.lock          # Uncomment if using npm

# Build artifacts
build/
dist/

# Generated documentation
docs/

# Firebase (if added later)
.firebase/
.firebaserc
firebase-debug.log

# GitHub integration tokens (sensitive)
github-tokens/
oauth-tokens/

# CV processing temporary files
cv-processing-temp/
extracted-text/

# Profile pictures temporary storage
profile-pics-temp/

# AI processing cache
gemini-cache/
ai-responses/

# Template generation temporary files
template-temp/
landing-page-temp/

# Production secrets
secrets/
private-keys/
certificates/

# Analytics and monitoring
analytics/
monitoring/

# Backup configurations
*.conf.bak
*.config.bak

[END OF FILE: .gitignore]

=====================================
DIRECTORY: frontend
PATH: C:\Coding\cv-landing-generator\frontend
=====================================

--------------------------------------------------------------------------------
FILE: frontend\src\main.ts
SIZE: 463 bytes (0.5 KB)
--------------------------------------------------------------------------------
import { bootstrapApplication } from '@angular/platform-browser';
import { provideRouter } from '@angular/router';
import { provideHttpClient, withInterceptorsFromDi } from '@angular/common/http';

import { AppComponent } from './app/app';
import { routes } from './app/app.routes';

bootstrapApplication(AppComponent, {
  providers: [
    provideRouter(routes),
    provideHttpClient(withInterceptorsFromDi())
  ]
}).catch(err => console.error(err));

[END OF FILE: frontend\src\main.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\app.config.ts
SIZE: 412 bytes (0.4 KB)
--------------------------------------------------------------------------------
import { ApplicationConfig, provideBrowserGlobalErrorListeners, provideZoneChangeDetection } from '@angular/core';
import { provideRouter } from '@angular/router';

import { routes } from './app.routes';

export const appConfig: ApplicationConfig = {
  providers: [
    provideBrowserGlobalErrorListeners(),
    provideZoneChangeDetection({ eventCoalescing: true }),
    provideRouter(routes)
  ]
};

[END OF FILE: frontend\src\app\app.config.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\app.routes.ts
SIZE: 865 bytes (0.8 KB)
--------------------------------------------------------------------------------
import { Routes } from '@angular/router';

export const routes: Routes = [
  {
    path: '',
    redirectTo: '/home',
    pathMatch: 'full'
  },
  {
    path: 'home',
    loadComponent: () => import('./pages/home/home.component').then(m => m.HomeComponent)
  },
  {
    path: 'login',
    loadComponent: () => import('./components/login/login.component').then(m => m.LoginComponent)
  },
  {
    path: 'dashboard',
    loadComponent: () => import('./pages/dashboard/dashboard.component').then(m => m.DashboardComponent)
  },
  {
    path: 'upload',
    loadComponent: () => import('./pages/upload/upload.component').then(m => m.UploadComponent)
  },
  {
    path: 'test',
    loadComponent: () => import('./components/api-test/api-test.component').then(m => m.ApiTestComponent)
  },
  {
    path: '**',
    redirectTo: '/home'
  }
];

[END OF FILE: frontend\src\app\app.routes.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\app.spec.ts
SIZE: 689 bytes (0.7 KB)
--------------------------------------------------------------------------------
import { TestBed } from '@angular/core/testing';
import { App } from './app';

describe('App', () => {
  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [App],
    }).compileComponents();
  });

  it('should create the app', () => {
    const fixture = TestBed.createComponent(App);
    const app = fixture.componentInstance;
    expect(app).toBeTruthy();
  });

  it('should render title', () => {
    const fixture = TestBed.createComponent(App);
    fixture.detectChanges();
    const compiled = fixture.nativeElement as HTMLElement;
    expect(compiled.querySelector('h1')?.textContent).toContain('Hello, frontend');
  });
});

[END OF FILE: frontend\src\app\app.spec.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\app.ts
SIZE: 672 bytes (0.7 KB)
--------------------------------------------------------------------------------
import { Component } from '@angular/core';
import { RouterOutlet } from '@angular/router';
import { HeaderComponent } from './components/header/header.component';
import { FooterComponent } from './components/footer/footer.component';

@Component({
  selector: 'app-root',
  standalone: true,
  imports: [RouterOutlet, HeaderComponent, FooterComponent],
  template: `
    <div class="min-h-screen bg-gray-50 flex flex-col">
      <app-header></app-header>
      <main class="flex-1">
        <router-outlet></router-outlet>
      </main>
      <app-footer></app-footer>
    </div>
  `
})
export class AppComponent {
  title = 'CV Landing Generator';
}

[END OF FILE: frontend\src\app\app.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\components\api-test\api-test.component.ts
SIZE: 4470 bytes (4.4 KB)
--------------------------------------------------------------------------------
import { Component, OnInit } from '@angular/core';
import { CommonModule } from '@angular/common';
import { ApiService, HealthResponse, TestResponse } from '../../services/api.service';

@Component({
  selector: 'app-api-test',
  standalone: true,
  imports: [CommonModule],
  template: `
    <div class="container mx-auto px-4 py-8">
      <div class="card max-w-2xl mx-auto">
        <h2 class="text-2xl font-bold text-gray-900 mb-6">API Connection Test</h2>
        
        <!-- Health Check -->
        <div class="mb-6">
          <div class="flex items-center justify-between mb-3">
            <h3 class="text-lg font-semibold text-gray-900">Health Check</h3>
            <button (click)="testHealth()" 
                    [disabled]="loading"
                    class="btn-primary text-sm">
              {{ loading ? 'Testing...' : 'Test Health' }}
            </button>
          </div>
          
          <div *ngIf="healthResult" class="bg-gray-50 rounded-lg p-4">
            <div class="flex items-center mb-2">
              <div [class]="healthResult.status === 'healthy' ? 'w-3 h-3 bg-green-500 rounded-full mr-2' : 'w-3 h-3 bg-red-500 rounded-full mr-2'"></div>
              <span class="font-medium">{{ healthResult.status }}</span>
            </div>
            <p class="text-sm text-gray-600">{{ healthResult.message }}</p>
            <p class="text-xs text-gray-500 mt-1">{{ healthResult.timestamp }}</p>
          </div>
        </div>

        <!-- API Tests -->
        <div class="mb-6">
          <div class="flex items-center justify-between mb-3">
            <h3 class="text-lg font-semibold text-gray-900">API Tests</h3>
            <div class="space-x-2">
              <button (click)="testGetRequest()" 
                      [disabled]="loading"
                      class="btn-secondary text-sm">
                Test GET
              </button>
              <button (click)="testPostRequest()" 
                      [disabled]="loading"
                      class="btn-primary text-sm">
                Test POST
              </button>
            </div>
          </div>
          
          <div *ngIf="testResult" class="bg-gray-50 rounded-lg p-4">
            <pre class="text-sm text-gray-700 whitespace-pre-wrap">{{ formatJson(testResult) }}</pre>
          </div>
        </div>

        <!-- Error Display -->
        <div *ngIf="error" class="bg-red-50 border border-red-200 rounded-lg p-4">
          <div class="flex items-center">
            <span class="text-red-800 font-medium">Error: </span>
          </div>
          <p class="text-red-700 text-sm mt-1">{{ error }}</p>
        </div>
      </div>
    </div>
  `
})
export class ApiTestComponent implements OnInit {
  healthResult: HealthResponse | null = null;
  testResult: TestResponse | null = null;
  error: string | null = null;
  loading = false;

  constructor(private apiService: ApiService) {}

  ngOnInit() {
    this.testHealth();
  }

  testHealth() {
    this.loading = true;
    this.error = null;
    
    this.apiService.checkHealth().subscribe({
      next: (result) => {
        this.healthResult = result;
        this.loading = false;
      },
      error: (err) => {
        this.error = `Health check failed: ${err.message || 'Unknown error'}`;
        this.loading = false;
      }
    });
  }

  testGetRequest() {
    this.loading = true;
    this.error = null;
    
    this.apiService.testGet({ param1: 'test', param2: 'value' }).subscribe({
      next: (result) => {
        this.testResult = result;
        this.loading = false;
      },
      error: (err) => {
        this.error = `GET request failed: ${err.message || 'Unknown error'}`;
        this.loading = false;
      }
    });
  }

  testPostRequest() {
    this.loading = true;
    this.error = null;
    
    const testData = {
      message: 'Hello from Angular!',
      timestamp: new Date().toISOString(),
      testValue: 123
    };

    this.apiService.testPost(testData).subscribe({
      next: (result) => {
        this.testResult = result;
        this.loading = false;
      },
      error: (err) => {
        this.error = `POST request failed: ${err.message || 'Unknown error'}`;
        this.loading = false;
      }
    });
  }

  formatJson(obj: any): string {
    return JSON.stringify(obj, null, 2);
  }
}

[END OF FILE: frontend\src\app\components\api-test\api-test.component.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\components\file-upload\file-upload.component.ts
SIZE: 15707 bytes (15.3 KB)
--------------------------------------------------------------------------------
import { Component, OnInit, OnDestroy } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FileUploadService, UploadProgress } from '../../services/file-upload.service';
import { Subscription } from 'rxjs';
import { LandingPageService } from '../../services/landing-page.service';

@Component({
    selector: 'app-file-upload',
    standalone: true,
    imports: [CommonModule],
    template: `
    <div class="max-w-4xl mx-auto">
      <!-- Upload Area -->
      <div *ngIf="!uploadProgress || uploadProgress.status === 'error'" 
           class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors"
           [class.border-red-300]="uploadProgress?.status === 'error'"
           (dragover)="onDragOver($event)"
           (dragleave)="onDragLeave($event)"
           (drop)="onDrop($event)">
        
        <div class="space-y-4">
          <div class="mx-auto w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
            </svg>
          </div>
          
          <div>
            <h3 class="text-lg font-medium text-gray-900">Upload your CV</h3>
            <p class="text-gray-600">Drag and drop your CV file here, or click to browse</p>
            <p class="text-sm text-gray-500 mt-2">Supports PDF, DOC, and DOCX files (max 10MB)</p>
          </div>
          
          <div>
            <input type="file" 
                   id="file-input"
                   class="hidden"
                   accept=".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
                   (change)="onFileSelected($event)">
            <label for="file-input" class="btn-primary cursor-pointer inline-block">
              Choose File
            </label>
          </div>
        </div>
      </div>

      <!-- Profile Picture Upload (show after CV is processed) -->
        <div *ngIf="uploadProgress?.status === 'completed' && !profilePicture" 
            class="border-2 border-dashed border-blue-300 rounded-lg p-6 text-center mt-6">
        <div class="space-y-4">
            <div class="mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
            </svg>
            </div>
            
            <div>
            <h3 class="text-lg font-medium text-gray-900">Add Your Profile Picture</h3>
            <p class="text-gray-600">Upload a professional headshot for your landing page</p>
            <p class="text-sm text-gray-500 mt-2">Supports JPG, PNG files (max 5MB)</p>
            </div>
            
            <div>
            <input type="file" 
                    id="profile-input"
                    class="hidden"
                    accept=".jpg,.jpeg,.png,image/jpeg,image/png"
                    (change)="onProfilePictureSelected($event)">
            <label for="profile-input" class="btn-secondary cursor-pointer inline-block">
                Choose Profile Picture
            </label>
            </div>
        </div>
        </div>

        <!-- Profile Picture Preview -->
        <div *ngIf="profilePicture" class="bg-white rounded-lg border border-gray-200 p-6 mt-6">
        <h4 class="text-lg font-medium text-gray-900 mb-4">Profile Picture</h4>
        <div class="flex items-center space-x-4">
            <img [src]="profilePicture" alt="Profile Picture" class="w-20 h-20 rounded-full object-cover">
            <div class="flex-1">
            <p class="text-sm text-gray-600">Profile picture ready!</p>
            <button (click)="removeProfilePicture()" class="text-red-600 hover:text-red-700 text-sm mt-1">
                Remove Picture
            </button>
            </div>
        </div>
        </div>

      <!-- Upload Progress -->
      <div *ngIf="uploadProgress && uploadProgress.status !== 'error'" class="space-y-4">
        <!-- Progress Bar -->
        <div class="bg-white rounded-lg border border-gray-200 p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-medium text-gray-900">
              {{ uploadProgress.status === 'uploading' ? 'Uploading CV...' : 
                 uploadProgress.status === 'processing' ? 'Processing CV...' : 
                 'CV Processed Successfully!' }}
            </h3>
            <span class="text-sm font-medium text-gray-700">{{ uploadProgress.percentage }}%</span>
          </div>
          
          <div class="w-full bg-gray-200 rounded-full h-2 mb-4">
            <div class="bg-primary-600 h-2 rounded-full transition-all duration-300" 
                 [style.width.%]="uploadProgress.percentage"></div>
          </div>
          
          <p class="text-sm text-gray-600">{{ uploadProgress.message }}</p>
          
          <!-- File Info -->
          <div *ngIf="uploadProgress.file" class="mt-4 p-3 bg-gray-50 rounded border">
            <div class="flex items-center space-x-3">
              <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                      d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
              </svg>
              <div>
                <p class="text-sm font-medium text-gray-900">{{ uploadProgress.file.originalName }}</p>
                <p class="text-xs text-gray-500">{{ formatFileSize(uploadProgress.file.size) }}</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Extracted Text Preview -->
        <div *ngIf="uploadProgress.status === 'completed' && uploadProgress.extractedText" 
             class="bg-white rounded-lg border border-gray-200 p-6">
          <h4 class="text-lg font-medium text-gray-900 mb-4">Extracted CV Content</h4>
          <div class="bg-gray-50 rounded border p-4 max-h-96 overflow-y-auto">
            <pre class="text-sm text-gray-700 whitespace-pre-wrap font-mono">{{ uploadProgress.extractedText }}</pre>
          </div>
          
          <div class="mt-6 flex space-x-4">
            <button class="btn-primary">Continue to Preview</button>
            <button (click)="startOver()" class="btn-secondary">Upload Another CV</button>
          </div>
        </div>

        <!-- Continue to Generation -->
        <div *ngIf="uploadProgress.status === 'completed' && uploadProgress.extractedText" 
            class="bg-white rounded-lg border border-gray-200 p-6">
        <h4 class="text-lg font-medium text-gray-900 mb-4">Extracted CV Content</h4>
        <div class="bg-gray-50 rounded border p-4 max-h-96 overflow-y-auto">
            <pre class="text-sm text-gray-700 whitespace-pre-wrap font-mono">{{ uploadProgress.extractedText }}</pre>
        </div>
        
        <div class="mt-6 flex space-x-4">
            <button (click)="generateLandingPage()" 
                    [disabled]="generatingPage"
                    class="btn-primary">
            {{ generatingPage ? 'Generating...' : 'Generate Landing Page' }}
            </button>
            <button (click)="startOver()" class="btn-secondary">Upload Another CV</button>
        </div>
        </div>

        <!-- Generation Result -->
        <div *ngIf="generationResult" class="bg-white rounded-lg border border-gray-200 p-6 mt-4">
        <div class="flex items-center mb-4">
            <svg class="w-6 h-6 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            <h4 class="text-lg font-medium text-gray-900">Landing Page Generated!</h4>
        </div>
        
        <p class="text-gray-600 mb-4">{{ generationResult.message }}</p>
        
        <div class="bg-gray-50 rounded border p-4 mb-4">
            <h5 class="font-medium text-gray-900 mb-2">Generated Files:</h5>
            <ul class="text-sm text-gray-600 list-disc list-inside">
            <li *ngFor="let file of generationResult.generation.files">{{ file }}</li>
            </ul>
        </div>
        
        <div class="flex space-x-4">
            <button class="btn-primary">Deploy to GitHub</button>
            <button (click)="previewLandingPage()" class="btn-secondary">Preview</button>
            <button (click)="startOver()" class="btn-secondary">Create Another</button>
        </div>
        </div>
      </div>

      <!-- Error State -->
      <div *ngIf="uploadProgress?.status === 'error'" 
           class="bg-red-50 border border-red-200 rounded-lg p-6">
        <div class="flex items-center">
          <svg class="w-5 h-5 text-red-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                  d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          <span class="text-red-800 font-medium">Upload Failed</span>
        </div>
        <p class="text-red-700 text-sm mt-1">{{ uploadProgress?.message }}</p>
        <button (click)="startOver()" class="btn-primary mt-4">Try Again</button>
      </div>
    </div>
  `
})
export class FileUploadComponent implements OnInit, OnDestroy {
    uploadProgress: UploadProgress | null = null;
    profilePicture: string | null = null;
    private subscription?: Subscription;

    generatingPage = false;
    generationResult: any = null;

    constructor(
        private fileUploadService: FileUploadService,
        private landingPageService: LandingPageService
    ) { }

    ngOnInit() {
        this.subscription = this.fileUploadService.uploadProgress$.subscribe(
            progress => this.uploadProgress = progress
        );
    }

    ngOnDestroy() {
        this.subscription?.unsubscribe();
    }

    onDragOver(event: DragEvent) {
        event.preventDefault();
        event.stopPropagation();
    }

    onDragLeave(event: DragEvent) {
        event.preventDefault();
        event.stopPropagation();
    }

    onDrop(event: DragEvent) {
        event.preventDefault();
        event.stopPropagation();

        const files = event.dataTransfer?.files;
        if (files && files.length > 0) {
            this.uploadFile(files[0]);
        }
    }

    onFileSelected(event: Event) {
        const input = event.target as HTMLInputElement;
        if (input.files && input.files.length > 0) {
            this.uploadFile(input.files[0]);
        }
    }

    private uploadFile(file: File) {
        this.fileUploadService.uploadFile(file).subscribe();
    }

    formatFileSize(bytes: number): string {
        if (bytes === 0) return '0 Bytes';
        const k = 1024;
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    }

    startOver() {
        this.fileUploadService.clearProgress();
        this.uploadProgress = null;
        this.profilePicture = null; // Add this line
        this.generationResult = null; // Add this line
    }

    onProfilePictureSelected(event: Event) {
        const input = event.target as HTMLInputElement;
        if (input.files && input.files.length > 0) {
            const file = input.files[0];

            // Validate file
            if (!this.validateImageFile(file)) {
                alert('Please select a valid image file (JPG or PNG, max 5MB)');
                return;
            }

            // Compress and convert to base64
            this.compressAndConvertImage(file);
        }
    }

    private compressAndConvertImage(file: File) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        const img = new Image();

        img.onload = () => {
            // Set canvas size (max 400x400 for profile pictures)
            const maxSize = 400;
            let { width, height } = img;

            if (width > height) {
                if (width > maxSize) {
                    height = (height * maxSize) / width;
                    width = maxSize;
                }
            } else {
                if (height > maxSize) {
                    width = (width * maxSize) / height;
                    height = maxSize;
                }
            }

            canvas.width = width;
            canvas.height = height;

            // Draw and compress
            ctx?.drawImage(img, 0, 0, width, height);

            // Convert to base64 with compression (0.8 quality)
            this.profilePicture = canvas.toDataURL('image/jpeg', 0.8);

            console.log('Compressed image size:', this.profilePicture.length);
        };

        img.src = URL.createObjectURL(file);
    }

    removeProfilePicture() {
        this.profilePicture = null;
    }

    private validateImageFile(file: File): boolean {
        const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png'];
        const maxSize = 5 * 1024 * 1024; // 5MB

        return allowedTypes.includes(file.type) && file.size <= maxSize;
    }

    generateLandingPage() {
        if (!this.uploadProgress?.extractedText) return;

        this.generatingPage = true;

        // Get structured data from upload progress
        let structuredData = (this.uploadProgress as any).structuredData;

        if (!structuredData) {
            alert('No structured data available. Please process the CV first.');
            this.generatingPage = false;
            return;
        }

        // Add profile picture to structured data
        if (this.profilePicture) {
            structuredData = {
                ...structuredData,
                personalInfo: {
                    ...structuredData.personalInfo,
                    profilePicture: this.profilePicture
                }
            };
        }

        this.landingPageService.generateLandingPage(structuredData).subscribe({
            next: (result) => {
                this.generatingPage = false;
                this.generationResult = result;
                console.log('Landing page generated:', result);
            },
            error: (error) => {
                this.generatingPage = false;
                console.error('Generation failed:', error);
                alert('Failed to generate landing page: ' + (error.error?.message || error.message));
            }
        });
    }

    previewLandingPage() {
        if (!this.generationResult) return;

        // For now, just show an alert
        alert('Preview functionality will be implemented with GitHub integration');
    }
}

[END OF FILE: frontend\src\app\components\file-upload\file-upload.component.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\components\footer\footer.component.ts
SIZE: 932 bytes (0.9 KB)
--------------------------------------------------------------------------------
import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';

@Component({
  selector: 'app-footer',
  standalone: true,
  imports: [CommonModule],
  template: `
    <footer class="bg-white border-t border-gray-200 mt-auto">
      <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
        <div class="text-center">
          <div class="flex items-center justify-center mb-4">
            <div class="h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center">
              <span class="text-white font-bold text-lg">CV</span>
            </div>
            <span class="ml-3 text-xl font-semibold text-gray-900">Landing Generator</span>
          </div>
          <p class="text-gray-600 text-sm">
            © 2025 CV Landing Generator. All rights reserved.
          </p>
        </div>
      </div>
    </footer>
  `
})
export class FooterComponent {
}

[END OF FILE: frontend\src\app\components\footer\footer.component.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\components\header\header.component.ts
SIZE: 3322 bytes (3.2 KB)
--------------------------------------------------------------------------------
import { Component, OnInit } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterModule } from '@angular/router';
import { AuthService, User } from '../../services/auth.service';

@Component({
    selector: 'app-header',
    standalone: true,
    imports: [CommonModule, RouterModule],
    template: `
    <header class="bg-white shadow-sm border-b border-gray-200">
      <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <!-- Logo -->
          <div class="flex items-center">
            <a routerLink="/home" class="flex items-center">
              <div class="h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center">
                <span class="text-white font-bold text-lg">CV</span>
              </div>
              <span class="ml-3 text-xl font-semibold text-gray-900">Landing Generator</span>
            </a>
          </div>

          <!-- Navigation -->
          <div class="flex items-center space-x-8">
            <a routerLink="/home" 
               routerLinkActive="text-primary-600" 
               [routerLinkActiveOptions]="{exact: true}"
               class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium">
              Home
            </a>
            
            <a *ngIf="!user" routerLink="/test" 
               routerLinkActive="text-primary-600"
               class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium">
              API Test
            </a>

            <a *ngIf="user" routerLink="/dashboard" 
               routerLinkActive="text-primary-600"
               class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium">
              Dashboard
            </a>

            <a *ngIf="user" routerLink="/upload" 
                routerLinkActive="text-primary-600"
                class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium">
              Upload CV
            </a>

            <!-- Auth Buttons -->
            <div *ngIf="!user" class="flex items-center space-x-4">
              <a routerLink="/login" class="btn-secondary text-sm">
                Sign In
              </a>
              <a routerLink="/login" class="btn-primary text-sm">
                Get Started
              </a>
            </div>

            <!-- User Menu -->
            <div *ngIf="user" class="flex items-center space-x-4">
              <div class="flex items-center space-x-3">
                <img [src]="user.picture" [alt]="user.name" class="h-8 w-8 rounded-full">
                <span class="text-sm font-medium text-gray-900">{{ user.name }}</span>
              </div>
              <button (click)="logout()" class="btn-secondary text-sm">
                Sign Out
              </button>
            </div>
          </div>
        </div>
      </nav>
    </header>
  `
})
export class HeaderComponent implements OnInit {
    user: User | null = null;

    constructor(private authService: AuthService) { }

    ngOnInit() {
        this.authService.user$.subscribe(user => {
            this.user = user;
        });
    }

    logout() {
        this.authService.logout().subscribe();
    }
}

[END OF FILE: frontend\src\app\components\header\header.component.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\components\login\login.component.ts
SIZE: 4794 bytes (4.7 KB)
--------------------------------------------------------------------------------
import { Component, OnInit } from '@angular/core';
import { CommonModule } from '@angular/common';
import { Router } from '@angular/router';
import { AuthService } from '../../services/auth.service';

declare global {
  interface Window {
    google: any;
  }
}

@Component({
  selector: 'app-login',
  standalone: true,
  imports: [CommonModule],
  template: `
    <div class="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
      <div class="max-w-md w-full space-y-8">
        <div>
          <div class="mx-auto h-12 w-12 bg-primary-600 rounded-lg flex items-center justify-center">
            <span class="text-white font-bold text-xl">CV</span>
          </div>
          <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">
            Sign in to your account
          </h2>
          <p class="mt-2 text-center text-sm text-gray-600">
            Create professional landing pages from your CV
          </p>
        </div>

        <div class="mt-8 space-y-6">
          <!-- Google Sign In Button -->
          <div class="text-center">
            <div id="google-signin-button" class="inline-block"></div>
          </div>

          <!-- Loading State -->
          <div *ngIf="loading" class="text-center">
            <div class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-primary-600 bg-primary-100">
              Signing in...
            </div>
          </div>

          <!-- Error Message -->
          <div *ngIf="error" class="bg-red-50 border border-red-200 rounded-md p-4">
            <div class="flex">
              <div class="ml-3">
                <h3 class="text-sm font-medium text-red-800">
                  Authentication Error
                </h3>
                <div class="mt-2 text-sm text-red-700">
                  {{ error }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  `
})
export class LoginComponent implements OnInit {
  loading = false;
  error: string | null = null;

  constructor(
    private authService: AuthService,
    private router: Router
  ) {}

  ngOnInit() {
    // Load Google Sign-In script
    this.loadGoogleSignIn();
  }

  private loadGoogleSignIn() {
    // For now, we'll create a simple button that simulates Google login
    // In production, you'd load the actual Google Sign-In library
    this.createMockGoogleButton();
  }

  private createMockGoogleButton() {
    const button = document.getElementById('google-signin-button');
    if (button) {
      button.innerHTML = `
        <button class="w-full flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
          <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24">
            <path fill="#4285f4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
            <path fill="#34a853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
            <path fill="#fbbc05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
            <path fill="#ea4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
          </svg>
          Continue with Google
        </button>
      `;
      
      const btn = button.querySelector('button');
      if (btn) {
        btn.addEventListener('click', () => this.mockGoogleLogin());
      }
    }
  }

  private mockGoogleLogin() {
    this.loading = true;
    this.error = null;

    // Simulate Google OAuth response
    const mockCredential = 'mock_google_jwt_token_for_testing';
    
    // For development, we'll create a mock login
    // In production, this would be the actual Google credential
    setTimeout(() => {
      this.authService.login(mockCredential).subscribe({
        next: (response) => {
          this.loading = false;
          if (response.success) {
            this.router.navigate(['/dashboard']);
          } else {
            this.error = 'Login failed. Please try again.';
          }
        },
        error: (error) => {
          this.loading = false;
          this.error = error.error?.message || 'An error occurred during login.';
        }
      });
    }, 1000);
  }
}

[END OF FILE: frontend\src\app\components\login\login.component.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\pages\dashboard\dashboard.component.ts
SIZE: 1951 bytes (1.9 KB)
--------------------------------------------------------------------------------
import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterModule } from '@angular/router';

@Component({
  selector: 'app-dashboard',
  standalone: true,
  imports: [CommonModule, RouterModule], // ← Make sure RouterModule is imported
  template: `
    <div class="container mx-auto px-4 py-8">
      <div class="card max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-gray-900 mb-6">Dashboard</h1>
        
        <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6">
          <div class="flex items-center">
            <div class="w-3 h-3 bg-green-500 rounded-full mr-2"></div>
            <span class="font-medium text-green-800">Authentication Working!</span>
          </div>
          <p class="text-green-700 text-sm mt-1">You are successfully logged in.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="card text-center">
            <h3 class="text-lg font-semibold text-gray-900 mb-2">Create New</h3>
            <p class="text-gray-600 text-sm mb-4">Upload a new CV to generate a landing page</p>
            <button routerLink="/upload" class="btn-primary w-full">Upload CV</button>
          </div>

          <div class="card text-center">
            <h3 class="text-lg font-semibold text-gray-900 mb-2">0 Projects</h3>
            <p class="text-gray-600 text-sm mb-4">Landing pages you've created</p>
            <button class="btn-secondary w-full">View All</button>
          </div>

          <div class="card text-center">
            <h3 class="text-lg font-semibold text-gray-900 mb-2">Analytics</h3>
            <p class="text-gray-600 text-sm mb-4">View your page performance</p>
            <button class="btn-secondary w-full">View Stats</button>
          </div>
        </div>
      </div>
    </div>
  `
})
export class DashboardComponent {
}

[END OF FILE: frontend\src\app\pages\dashboard\dashboard.component.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\pages\home\home.component.ts
SIZE: 823 bytes (0.8 KB)
--------------------------------------------------------------------------------
import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';

@Component({
  selector: 'app-home',
  standalone: true,
  imports: [CommonModule],
  template: `
    <div class="container mx-auto px-4 py-8">
      <div class="text-center">
        <h1 class="text-4xl font-bold text-gray-900 mb-4">
          CV Landing Generator
        </h1>
        <p class="text-xl text-gray-600 mb-8">
          Transform your CV into a professional landing page
        </p>
        <div class="card max-w-md mx-auto">
          <h2 class="text-xl font-semibold mb-4">Home Page</h2>
          <p class="text-gray-600">
            This is the home page. The full design will come later.
          </p>
        </div>
      </div>
    </div>
  `
})
export class HomeComponent {
}

[END OF FILE: frontend\src\app\pages\home\home.component.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\pages\upload\upload.component.ts
SIZE: 772 bytes (0.8 KB)
--------------------------------------------------------------------------------
import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FileUploadComponent } from '../../components/file-upload/file-upload.component';

@Component({
  selector: 'app-upload',
  standalone: true,
  imports: [CommonModule, FileUploadComponent],
  template: `
    <div class="container mx-auto px-4 py-8">
      <div class="text-center mb-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-4">Upload Your CV</h1>
        <p class="text-xl text-gray-600 max-w-2xl mx-auto">
          Upload your CV and we'll extract your professional information to create a stunning landing page
        </p>
      </div>

      <app-file-upload></app-file-upload>
    </div>
  `
})
export class UploadComponent {
}

[END OF FILE: frontend\src\app\pages\upload\upload.component.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\services\api.service.ts
SIZE: 955 bytes (0.9 KB)
--------------------------------------------------------------------------------
import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';

export interface HealthResponse {
  status: string;
  message: string;
  timestamp: string;
  version: string;
}

export interface TestResponse {
  message: string;
  requestMethod: string;
  queryParams: any;
  requestBody: any;
  timestamp: string;
}

@Injectable({
  providedIn: 'root'
})
export class ApiService {
  private apiUrl = 'http://localhost:3000/api';

  constructor(private http: HttpClient) {}

  checkHealth(): Observable<HealthResponse> {
    return this.http.get<HealthResponse>(`${this.apiUrl}/health`);
  }

  testGet(params?: any): Observable<TestResponse> {
    return this.http.get<TestResponse>(`${this.apiUrl}/test`, { params });
  }

  testPost(data: any): Observable<TestResponse> {
    return this.http.post<TestResponse>(`${this.apiUrl}/test`, data);
  }
}

[END OF FILE: frontend\src\app\services\api.service.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\services\auth.service.ts
SIZE: 3043 bytes (3 KB)
--------------------------------------------------------------------------------
import { Injectable } from '@angular/core';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { BehaviorSubject, Observable } from 'rxjs';

export interface User {
  id: string;
  email: string;
  name: string;
  picture: string;
  verified?: boolean;
}

export interface LoginResponse {
  success: boolean;
  user: User;
  token: string;
  message: string;
}

@Injectable({
  providedIn: 'root'
})
export class AuthService {
  private apiUrl = 'http://localhost:3000/api';
  private tokenKey = 'cv_generator_token';
  private userSubject = new BehaviorSubject<User | null>(null);
  
  public user$ = this.userSubject.asObservable();

  constructor(private http: HttpClient) {
    this.checkExistingLogin();
  }

  private checkExistingLogin() {
    const token = localStorage.getItem(this.tokenKey);
    if (token) {
      this.getCurrentUser().subscribe({
        next: (response) => {
          if (response.success) {
            this.userSubject.next(response.user);
          } else {
            this.logout();
          }
        },
        error: () => {
          this.logout();
        }
      });
    }
  }

  login(credential: string): Observable<LoginResponse> {
    return new Observable(observer => {
      this.http.post<LoginResponse>(`${this.apiUrl}/auth/login`, { credential }).subscribe({
        next: (response) => {
          if (response.success) {
            localStorage.setItem(this.tokenKey, response.token);
            this.userSubject.next(response.user);
          }
          observer.next(response);
          observer.complete();
        },
        error: (error) => {
          observer.error(error);
        }
      });
    });
  }

  logout(): Observable<any> {
    return new Observable(observer => {
      this.http.post(`${this.apiUrl}/auth/logout`, {}).subscribe({
        next: (response) => {
          localStorage.removeItem(this.tokenKey);
          this.userSubject.next(null);
          observer.next(response);
          observer.complete();
        },
        error: (error) => {
          localStorage.removeItem(this.tokenKey);
          this.userSubject.next(null);
          observer.next(true);
          observer.complete();
        }
      });
    });
  }

  getCurrentUser(): Observable<any> {
    const token = localStorage.getItem(this.tokenKey);
    
    if (!token) {
      return new Observable(observer => {
        observer.next({ success: false, error: 'No token' });
        observer.complete();
      });
    }

    const headers = new HttpHeaders({
      'Authorization': `Bearer ${token}`
    });
    
    return this.http.get(`${this.apiUrl}/auth/user`, { headers });
  }

  isLoggedIn(): boolean {
    return !!localStorage.getItem(this.tokenKey) && !!this.userSubject.value;
  }

  getUser(): User | null {
    return this.userSubject.value;
  }

  getToken(): string | null {
    return localStorage.getItem(this.tokenKey);
  }
}

[END OF FILE: frontend\src\app\services\auth.service.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\services\file-upload.service.ts
SIZE: 7396 bytes (7.2 KB)
--------------------------------------------------------------------------------
import { Injectable } from '@angular/core';
import { HttpClient, HttpHeaders, HttpEventType } from '@angular/common/http';
import { Observable, BehaviorSubject } from 'rxjs';
import { AuthService } from './auth.service';

export interface FileInfo {
    id: string;
    originalName: string;
    filename: string;
    path: string;
    size: number;
    mimetype: string;
    uploadedAt: string;
    userId: string;
    status: string;
}

export interface UploadResponse {
    success: boolean;
    message: string;
    file: FileInfo;
}

export interface ProcessResponse {
    success: boolean;
    message: string;
    extractedText: string;
    fileId: string;
    processedAt: string;
    structuredData: any;
}

export interface UploadProgress {
    percentage: number;
    status: 'uploading' | 'processing' | 'completed' | 'error';
    message: string;
    file?: FileInfo;
    extractedText?: string;
    structuredData?: any;
}


@Injectable({
    providedIn: 'root'
})
export class FileUploadService {
    private apiUrl = 'http://localhost:3000/api';
    private uploadProgressSubject = new BehaviorSubject<UploadProgress | null>(null);

    public uploadProgress$ = this.uploadProgressSubject.asObservable();

    constructor(
        private http: HttpClient,
        private authService: AuthService
    ) { }

    private getAuthHeaders(): HttpHeaders {
        const token = this.authService.getToken();
        return new HttpHeaders({
            'Authorization': `Bearer ${token}`
        });
    }

    uploadFile(file: File): Observable<UploadProgress> {
        return new Observable(observer => {
            // Validate file
            if (!this.validateFile(file)) {
                const error: UploadProgress = {
                    percentage: 0,
                    status: 'error',
                    message: 'Invalid file type. Please upload PDF, DOC, or DOCX files only.'
                };
                observer.next(error);
                observer.complete();
                return;
            }

            // Create form data
            const formData = new FormData();
            formData.append('cvFile', file);

            const headers = this.getAuthHeaders();
            // Remove Content-Type header to let browser set it with boundary
            headers.delete('Content-Type');

            // Upload file
            this.http.post<UploadResponse>(`${this.apiUrl}/cv/upload`, formData, {
                headers,
                reportProgress: true,
                observe: 'events'
            }).subscribe({
                next: (event) => {
                    if (event.type === HttpEventType.UploadProgress) {
                        const percentage = Math.round(100 * event.loaded / (event.total || 1));
                        const progress: UploadProgress = {
                            percentage,
                            status: 'uploading',
                            message: `Uploading... ${percentage}%`
                        };
                        this.uploadProgressSubject.next(progress);
                        observer.next(progress);
                    } else if (event.type === HttpEventType.Response) {
                        if (event.body?.success) {
                            // File uploaded, now process it
                            const uploadedProgress: UploadProgress = {
                                percentage: 100,
                                status: 'processing',
                                message: 'Processing CV...',
                                file: event.body.file
                            };
                            this.uploadProgressSubject.next(uploadedProgress);
                            observer.next(uploadedProgress);

                            // Process the file
                            this.processFile(event.body.file.id).subscribe({
                                next: (processResponse) => {
                                    const completedProgress: UploadProgress = {
                                        percentage: 100,
                                        status: 'completed',
                                        message: 'CV processed successfully!',
                                        file: event.body!.file,
                                        extractedText: processResponse.extractedText,
                                        structuredData: processResponse.structuredData // Add this line
                                    };
                                    this.uploadProgressSubject.next(completedProgress);
                                    observer.next(completedProgress);
                                    observer.complete();
                                },
                                error: (processError) => {
                                    const errorProgress: UploadProgress = {
                                        percentage: 100,
                                        status: 'error',
                                        message: 'Failed to process CV: ' + (processError.error?.message || processError.message)
                                    };
                                    this.uploadProgressSubject.next(errorProgress);
                                    observer.next(errorProgress);
                                    observer.complete();
                                }
                            });
                        } else {
                            const errorProgress: UploadProgress = {
                                percentage: 0,
                                status: 'error',
                                message: event.body?.message || 'Upload failed'
                            };
                            this.uploadProgressSubject.next(errorProgress);
                            observer.next(errorProgress);
                            observer.complete();
                        }
                    }
                },
                error: (error) => {
                    const errorProgress: UploadProgress = {
                        percentage: 0,
                        status: 'error',
                        message: 'Upload failed: ' + (error.error?.message || error.message)
                    };
                    this.uploadProgressSubject.next(errorProgress);
                    observer.next(errorProgress);
                    observer.complete();
                }
            });
        });
    }

    private processFile(fileId: string): Observable<ProcessResponse> {
        const headers = this.getAuthHeaders();
        return this.http.post<ProcessResponse>(`${this.apiUrl}/cv/process`, { fileId }, { headers });
    }

    private validateFile(file: File): boolean {
        const allowedTypes = [
            'application/pdf',
            'application/msword',
            'application/vnd.openxmlformats-officedocument.wordprocessingml.document'
        ];

        const maxSize = 10 * 1024 * 1024; // 10MB

        return allowedTypes.includes(file.type) && file.size <= maxSize;
    }

    clearProgress() {
        this.uploadProgressSubject.next(null);
    }
}

[END OF FILE: frontend\src\app\services\file-upload.service.ts]

--------------------------------------------------------------------------------
FILE: frontend\src\app\services\landing-page.service.ts
SIZE: 1418 bytes (1.4 KB)
--------------------------------------------------------------------------------
import { Injectable } from '@angular/core';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { Observable } from 'rxjs';
import { AuthService } from './auth.service';

export interface GenerationResult {
  success: boolean;
  message: string;
  generation: {
    id: string;
    userId: string;
    outputDir: string;
    generatedAt: string;
    files: string[];
    cvData: any;
  };
  previewUrl: string;
}

export interface PreviewResult {
  success: boolean;
  message: string;
  previewId: string;
}

@Injectable({
  providedIn: 'root'
})
export class LandingPageService {
  private apiUrl = 'http://localhost:3000/api';

  constructor(
    private http: HttpClient,
    private authService: AuthService
  ) {}

  private getAuthHeaders(): HttpHeaders {
    const token = this.authService.getToken();
    return new HttpHeaders({
      'Authorization': `Bearer ${token}`,
      'Content-Type': 'application/json'
    });
  }

  generateLandingPage(structuredData: any): Observable<GenerationResult> {
    const headers = this.getAuthHeaders();
    return this.http.post<GenerationResult>(`${this.apiUrl}/cv/generate`, 
      { structuredData }, 
      { headers }
    );
  }

  getPreview(previewId: string): Observable<PreviewResult> {
    return this.http.get<PreviewResult>(`${this.apiUrl}/cv/preview?previewId=${previewId}`);
  }
}

[END OF FILE: frontend\src\app\services\landing-page.service.ts]

--------------------------------------------------------------------------------
FILE: frontend\postcss.config.js
SIZE: 81 bytes (0.1 KB)
--------------------------------------------------------------------------------
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}

[END OF FILE: frontend\postcss.config.js]

--------------------------------------------------------------------------------
FILE: frontend\tailwind.config.js
SIZE: 474 bytes (0.5 KB)
--------------------------------------------------------------------------------
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    "./src/**/*.{html,ts}",
  ],
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#eff6ff',
          100: '#dbeafe',
          200: '#bfdbfe',
          300: '#93c5fd',
          400: '#60a5fa',
          500: '#3b82f6',
          600: '#2563eb',
          700: '#1d4ed8',
          800: '#1e40af',
          900: '#1e3a8a',
        }
      }
    },
  },
  plugins: [],
}

[END OF FILE: frontend\tailwind.config.js]

--------------------------------------------------------------------------------
FILE: frontend\src\index.html
SIZE: 307 bytes (0.3 KB)
--------------------------------------------------------------------------------
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Frontend</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
  <app-root></app-root>
</body>
</html>

[END OF FILE: frontend\src\index.html]

--------------------------------------------------------------------------------
FILE: frontend\src\app\app.html
SIZE: 587 bytes (0.6 KB)
--------------------------------------------------------------------------------
<div class="min-h-screen bg-gray-50">
  <!-- Test Tailwind Classes -->
  <div class="container mx-auto py-8">
    <div class="card max-w-md mx-auto">
      <h1 class="text-3xl font-bold text-gray-900 mb-4">
        CV Landing Generator
      </h1>
      <p class="text-gray-600 mb-6">
        Tailwind CSS 3.4 is working correctly!
      </p>
      <div class="space-x-4">
        <button class="btn-primary">Primary Button</button>
        <button class="btn-secondary">Secondary Button</button>
      </div>
    </div>
  </div>
</div>

<router-outlet></router-outlet>

[END OF FILE: frontend\src\app\app.html]

--------------------------------------------------------------------------------
FILE: frontend\src\styles.scss
SIZE: 1552 bytes (1.5 KB)
--------------------------------------------------------------------------------
/* File: frontend/src/styles.scss */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom global styles */
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Dark theme for admin interface */
@media (prefers-color-scheme: dark) {
  body {
    background-color: #0f172a;
    color: #f1f5f9;
  }
}

/* Custom component classes */
@layer components {
  .btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200;
  }
  
  .btn-secondary {
    @apply bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-4 rounded-md transition-colors duration-200;
  }
  
  .card {
    @apply bg-white rounded-lg shadow-md p-6 border border-gray-200;
  }

  /* Dark theme variants */
  @media (prefers-color-scheme: dark) {
    .btn-secondary {
      @apply bg-gray-700 hover:bg-gray-600 text-gray-200;
    }
    
    .card {
      @apply bg-gray-800 border-gray-700 text-gray-100;
    }
  }
}

/* Dark theme utility classes */
.dark {
  .bg-white { @apply bg-gray-900; }
  .bg-gray-50 { @apply bg-gray-800; }
  .text-gray-900 { @apply text-gray-100; }
  .text-gray-700 { @apply text-gray-300; }
  .text-gray-600 { @apply text-gray-400; }
  .border-gray-200 { @apply border-gray-700; }
}

[END OF FILE: frontend\src\styles.scss]

--------------------------------------------------------------------------------
FILE: frontend\src\app\app.scss
SIZE: 0 bytes (0 KB)
--------------------------------------------------------------------------------

[END OF FILE: frontend\src\app\app.scss]

--------------------------------------------------------------------------------
FILE: frontend\angular.json
SIZE: 2674 bytes (2.6 KB)
--------------------------------------------------------------------------------
{
  "$schema": "./node_modules/@angular/cli/lib/config/schema.json",
  "version": 1,
  "newProjectRoot": "projects",
  "projects": {
    "frontend": {
      "projectType": "application",
      "schematics": {
        "@schematics/angular:component": {
          "style": "scss"
        }
      },
      "root": "",
      "sourceRoot": "src",
      "prefix": "app",
      "architect": {
        "build": {
          "builder": "@angular/build:application",
          "options": {
            "browser": "src/main.ts",
            "polyfills": [
              "zone.js"
            ],
            "tsConfig": "tsconfig.app.json",
            "inlineStyleLanguage": "scss",
            "assets": [
              {
                "glob": "**/*",
                "input": "public"
              }
            ],
            "styles": [
              "src/styles.scss"
            ]
          },
          "configurations": {
            "production": {
              "budgets": [
                {
                  "type": "initial",
                  "maximumWarning": "500kB",
                  "maximumError": "1MB"
                },
                {
                  "type": "anyComponentStyle",
                  "maximumWarning": "4kB",
                  "maximumError": "8kB"
                }
              ],
              "outputHashing": "all"
            },
            "development": {
              "optimization": false,
              "extractLicenses": false,
              "sourceMap": true
            }
          },
          "defaultConfiguration": "production"
        },
        "serve": {
          "builder": "@angular/build:dev-server",
          "configurations": {
            "production": {
              "buildTarget": "frontend:build:production"
            },
            "development": {
              "buildTarget": "frontend:build:development"
            }
          },
          "defaultConfiguration": "development"
        },
        "extract-i18n": {
          "builder": "@angular/build:extract-i18n"
        },
        "test": {
          "builder": "@angular/build:karma",
          "options": {
            "polyfills": [
              "zone.js",
              "zone.js/testing"
            ],
            "tsConfig": "tsconfig.spec.json",
            "inlineStyleLanguage": "scss",
            "assets": [
              {
                "glob": "**/*",
                "input": "public"
              }
            ],
            "styles": [
              "src/styles.scss"
            ]
          }
        }
      }
    }
  }
}

[END OF FILE: frontend\angular.json]

--------------------------------------------------------------------------------
FILE: frontend\package.json
SIZE: 1098 bytes (1.1 KB)
--------------------------------------------------------------------------------
{
  "name": "frontend",
  "version": "0.0.0",
  "scripts": {
    "ng": "ng",
    "start": "ng serve",
    "build": "ng build",
    "watch": "ng build --watch --configuration development",
    "test": "ng test"
  },
  "private": true,
  "dependencies": {
    "@angular/animations": "^20.0.6",
    "@angular/common": "^20.0.0",
    "@angular/compiler": "^20.0.0",
    "@angular/core": "^20.0.0",
    "@angular/forms": "^20.0.0",
    "@angular/platform-browser": "^20.0.0",
    "@angular/router": "^20.0.0",
    "rxjs": "~7.8.0",
    "tslib": "^2.3.0",
    "zone.js": "~0.15.0"
  },
  "devDependencies": {
    "@angular/build": "^20.0.0",
    "@angular/cli": "^20.0.0",
    "@angular/compiler-cli": "^20.0.0",
    "@types/jasmine": "~5.1.0",
    "autoprefixer": "^10.4.21",
    "jasmine-core": "~5.7.0",
    "karma": "~6.4.0",
    "karma-chrome-launcher": "~3.2.0",
    "karma-coverage": "~2.2.0",
    "karma-jasmine": "~5.1.0",
    "karma-jasmine-html-reporter": "~2.1.0",
    "postcss": "^8.5.6",
    "tailwindcss": "^3.4.0",
    "typescript": "~5.8.2"
  }
}

[END OF FILE: frontend\package.json]

--------------------------------------------------------------------------------
FILE: frontend\tsconfig.app.json
SIZE: 444 bytes (0.4 KB)
--------------------------------------------------------------------------------
/* To learn more about Typescript configuration file: https://www.typescriptlang.org/docs/handbook/tsconfig-json.html. */
/* To learn more about Angular compiler options: https://angular.dev/reference/configs/angular-compiler-options. */
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "outDir": "./out-tsc/app",
    "types": []
  },
  "include": [
    "src/**/*.ts"
  ],
  "exclude": [
    "src/**/*.spec.ts"
  ]
}

[END OF FILE: frontend\tsconfig.app.json]

--------------------------------------------------------------------------------
FILE: frontend\tsconfig.json
SIZE: 1026 bytes (1 KB)
--------------------------------------------------------------------------------
/* To learn more about Typescript configuration file: https://www.typescriptlang.org/docs/handbook/tsconfig-json.html. */
/* To learn more about Angular compiler options: https://angular.dev/reference/configs/angular-compiler-options. */
{
  "compileOnSave": false,
  "compilerOptions": {
    "strict": true,
    "noImplicitOverride": true,
    "noPropertyAccessFromIndexSignature": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "skipLibCheck": true,
    "isolatedModules": true,
    "experimentalDecorators": true,
    "importHelpers": true,
    "target": "ES2022",
    "module": "preserve"
  },
  "angularCompilerOptions": {
    "enableI18nLegacyMessageIdFormat": false,
    "strictInjectionParameters": true,
    "strictInputAccessModifiers": true,
    "typeCheckHostBindings": true,
    "strictTemplates": true
  },
  "files": [],
  "references": [
    {
      "path": "./tsconfig.app.json"
    },
    {
      "path": "./tsconfig.spec.json"
    }
  ]
}

[END OF FILE: frontend\tsconfig.json]

--------------------------------------------------------------------------------
FILE: frontend\tsconfig.spec.json
SIZE: 422 bytes (0.4 KB)
--------------------------------------------------------------------------------
/* To learn more about Typescript configuration file: https://www.typescriptlang.org/docs/handbook/tsconfig-json.html. */
/* To learn more about Angular compiler options: https://angular.dev/reference/configs/angular-compiler-options. */
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "outDir": "./out-tsc/spec",
    "types": [
      "jasmine"
    ]
  },
  "include": [
    "src/**/*.ts"
  ]
}

[END OF FILE: frontend\tsconfig.spec.json]

--------------------------------------------------------------------------------
FILE: frontend\.vscode\extensions.json
SIZE: 134 bytes (0.1 KB)
--------------------------------------------------------------------------------
{
  // For more information, visit: https://go.microsoft.com/fwlink/?linkid=827846
  "recommendations": ["angular.ng-template"]
}

[END OF FILE: frontend\.vscode\extensions.json]

--------------------------------------------------------------------------------
FILE: frontend\.vscode\launch.json
SIZE: 490 bytes (0.5 KB)
--------------------------------------------------------------------------------
{
  // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
  "version": "0.2.0",
  "configurations": [
    {
      "name": "ng serve",
      "type": "chrome",
      "request": "launch",
      "preLaunchTask": "npm: start",
      "url": "http://localhost:4200/"
    },
    {
      "name": "ng test",
      "type": "chrome",
      "request": "launch",
      "preLaunchTask": "npm: test",
      "url": "http://localhost:9876/debug.html"
    }
  ]
}

[END OF FILE: frontend\.vscode\launch.json]

--------------------------------------------------------------------------------
FILE: frontend\.vscode\tasks.json
SIZE: 980 bytes (1 KB)
--------------------------------------------------------------------------------
{
  // For more information, visit: https://go.microsoft.com/fwlink/?LinkId=733558
  "version": "2.0.0",
  "tasks": [
    {
      "type": "npm",
      "script": "start",
      "isBackground": true,
      "problemMatcher": {
        "owner": "typescript",
        "pattern": "$tsc",
        "background": {
          "activeOnStart": true,
          "beginsPattern": {
            "regexp": "(.*?)"
          },
          "endsPattern": {
            "regexp": "bundle generation complete"
          }
        }
      }
    },
    {
      "type": "npm",
      "script": "test",
      "isBackground": true,
      "problemMatcher": {
        "owner": "typescript",
        "pattern": "$tsc",
        "background": {
          "activeOnStart": true,
          "beginsPattern": {
            "regexp": "(.*?)"
          },
          "endsPattern": {
            "regexp": "bundle generation complete"
          }
        }
      }
    }
  ]
}

[END OF FILE: frontend\.vscode\tasks.json]

--------------------------------------------------------------------------------
FILE: frontend\README.md
SIZE: 1530 bytes (1.5 KB)
--------------------------------------------------------------------------------
# Frontend

This project was generated using [Angular CLI](https://github.com/angular/angular-cli) version 20.0.0.

## Development server

To start a local development server, run:

```bash
ng serve
```

Once the server is running, open your browser and navigate to `http://localhost:4200/`. The application will automatically reload whenever you modify any of the source files.

## Code scaffolding

Angular CLI includes powerful code scaffolding tools. To generate a new component, run:

```bash
ng generate component component-name
```

For a complete list of available schematics (such as `components`, `directives`, or `pipes`), run:

```bash
ng generate --help
```

## Building

To build the project run:

```bash
ng build
```

This will compile your project and store the build artifacts in the `dist/` directory. By default, the production build optimizes your application for performance and speed.

## Running unit tests

To execute unit tests with the [Karma](https://karma-runner.github.io) test runner, use the following command:

```bash
ng test
```

## Running end-to-end tests

For end-to-end (e2e) testing, run:

```bash
ng e2e
```

Angular CLI does not come with an end-to-end testing framework by default. You can choose one that suits your needs.

## Additional Resources

For more information on using the Angular CLI, including detailed command references, visit the [Angular CLI Overview and Command Reference](https://angular.dev/tools/cli) page.

[END OF FILE: frontend\README.md]

--------------------------------------------------------------------------------
FILE: frontend\.gitignore
SIZE: 588 bytes (0.6 KB)
--------------------------------------------------------------------------------
# See http://help.github.com/ignore-files/ for more about ignoring files.

# Compiled output
/dist
/tmp
/out-tsc
/bazel-out

# Node
/node_modules
npm-debug.log
yarn-error.log

# IDEs and editors
.idea/
.project
.classpath
.c9/
*.launch
.settings/
*.sublime-workspace

# Visual Studio Code
.vscode/*
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json
.history/*

# Miscellaneous
/.angular/cache
.sass-cache/
/connect.lock
/coverage
/libpeerconnection.log
testem.log
/typings

# System files
.DS_Store
Thumbs.db

[END OF FILE: frontend\.gitignore]

=====================================
DIRECTORY: api
PATH: C:\Coding\cv-landing-generator\api
=====================================

--------------------------------------------------------------------------------
FILE: api\health.js
SIZE: 905 bytes (0.9 KB)
--------------------------------------------------------------------------------
export default function handler(req, res) {
  // Set CORS headers
  res.setHeader('Access-Control-Allow-Origin', '*');
  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');
  res.setHeader('Access-Control-Allow-Headers', 'Content-Type, Authorization');

  // Handle OPTIONS request for CORS preflight
  if (req.method === 'OPTIONS') {
    res.status(200).end();
    return;
  }

  if (req.method !== 'GET') {
    res.status(405).json({ error: 'Method not allowed' });
    return;
  }

  try {
    res.status(200).json({
      status: 'healthy',
      message: 'CV Landing Generator API is running',
      timestamp: new Date().toISOString(),
      version: '1.0.0'
    });
  } catch (error) {
    console.error('Health check error:', error);
    res.status(500).json({
      status: 'error',
      message: 'Internal server error'
    });
  }
}

[END OF FILE: api\health.js]

--------------------------------------------------------------------------------
FILE: api\test.js
SIZE: 887 bytes (0.9 KB)
--------------------------------------------------------------------------------
export default function handler(req, res) {
  // Set CORS headers
  res.setHeader('Access-Control-Allow-Origin', '*');
  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');
  res.setHeader('Access-Control-Allow-Headers', 'Content-Type, Authorization');

  // Handle OPTIONS request for CORS preflight
  if (req.method === 'OPTIONS') {
    res.status(200).end();
    return;
  }

  try {
    const { method, query, body } = req;

    res.status(200).json({
      message: 'Test endpoint working!',
      requestMethod: method,
      queryParams: query,
      requestBody: body,
      timestamp: new Date().toISOString()
    });
  } catch (error) {
    console.error('Test endpoint error:', error);
    res.status(500).json({
      status: 'error',
      message: 'Internal server error',
      error: error.message
    });
  }
}

[END OF FILE: api\test.js]

--------------------------------------------------------------------------------
FILE: api\auth\login.js
SIZE: 1835 bytes (1.8 KB)
--------------------------------------------------------------------------------
const { OAuth2Client } = require('google-auth-library');
const jwt = require('jsonwebtoken');

const client = new OAuth2Client(process.env.GOOGLE_CLIENT_ID);

export default async function handler(req, res) {
  // Set CORS headers
  res.setHeader('Access-Control-Allow-Origin', '*');
  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');
  res.setHeader('Access-Control-Allow-Headers', 'Content-Type, Authorization');

  if (req.method === 'OPTIONS') {
    res.status(200).end();
    return;
  }

  if (req.method !== 'POST') {
    res.status(405).json({ error: 'Method not allowed' });
    return;
  }

  try {
    const { credential } = req.body;

    if (!credential) {
      res.status(400).json({ error: 'Google credential is required' });
      return;
    }

    // Verify Google token
    const ticket = await client.verifyIdToken({
      idToken: credential,
      audience: process.env.GOOGLE_CLIENT_ID,
    });

    const payload = ticket.getPayload();
    
    if (!payload) {
      res.status(400).json({ error: 'Invalid Google token' });
      return;
    }

    // Extract user info
    const user = {
      id: payload.sub,
      email: payload.email,
      name: payload.name,
      picture: payload.picture,
      verified: payload.email_verified
    };

    // Create JWT token
    const token = jwt.sign(
      { userId: user.id, email: user.email },
      process.env.JWT_SECRET,
      { expiresIn: '7d' }
    );

    res.status(200).json({
      success: true,
      user: user,
      token: token,
      message: 'Login successful'
    });

  } catch (error) {
    console.error('Login error:', error);
    res.status(500).json({
      error: 'Authentication failed',
      message: error.message
    });
  }
}

[END OF FILE: api\auth\login.js]

--------------------------------------------------------------------------------
FILE: api\auth\logout.js
SIZE: 868 bytes (0.8 KB)
--------------------------------------------------------------------------------
export default async function handler(req, res) {
  // Set CORS headers
  res.setHeader('Access-Control-Allow-Origin', '*');
  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');
  res.setHeader('Access-Control-Allow-Headers', 'Content-Type, Authorization');

  if (req.method === 'OPTIONS') {
    res.status(200).end();
    return;
  }

  if (req.method !== 'POST') {
    res.status(405).json({ error: 'Method not allowed' });
    return;
  }

  try {
    // In a real app, you might want to blacklist the token
    // For now, we'll just return success
    res.status(200).json({
      success: true,
      message: 'Logout successful'
    });
  } catch (error) {
    console.error('Logout error:', error);
    res.status(500).json({
      error: 'Logout failed',
      message: error.message
    });
  }
}

[END OF FILE: api\auth\logout.js]

--------------------------------------------------------------------------------
FILE: api\auth\user.js
SIZE: 1438 bytes (1.4 KB)
--------------------------------------------------------------------------------
const jwt = require('jsonwebtoken');

export default async function handler(req, res) {
  // Set CORS headers
  res.setHeader('Access-Control-Allow-Origin', '*');
  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');
  res.setHeader('Access-Control-Allow-Headers', 'Content-Type, Authorization');

  if (req.method === 'OPTIONS') {
    res.status(200).end();
    return;
  }

  if (req.method !== 'GET') {
    res.status(405).json({ error: 'Method not allowed' });
    return;
  }

  try {
    const authHeader = req.headers.authorization;
    
    if (!authHeader || !authHeader.startsWith('Bearer ')) {
      res.status(401).json({ error: 'No token provided' });
      return;
    }

    const token = authHeader.substring(7);
    
    try {
      const decoded = jwt.verify(token, process.env.JWT_SECRET);
      
      // In a real app, you'd fetch user data from database
      // For now, we'll return the decoded token data
      res.status(200).json({
        success: true,
        user: {
          id: decoded.userId,
          email: decoded.email
        }
      });
    } catch (jwtError) {
      res.status(401).json({ error: 'Invalid token' });
      return;
    }

  } catch (error) {
    console.error('User info error:', error);
    res.status(500).json({
      error: 'Failed to get user info',
      message: error.message
    });
  }
}

[END OF FILE: api\auth\user.js]

=====================================
DIRECTORY: templates
PATH: C:\Coding\cv-landing-generator\templates
=====================================

--------------------------------------------------------------------------------
FILE: templates\professional\script.js
SIZE: 14838 bytes (14.5 KB)
--------------------------------------------------------------------------------
// File: templates/professional/script.js
// Landing Page Script - Renders CV data with About Me section and theme toggle

document.addEventListener('DOMContentLoaded', function() {
    console.log('Landing page loading...', cvData);
    
    // Initialize theme
    initializeTheme();
    
    // Helper functions
    function getInitials(name) {
        return name.split(' ').map(n => n[0]).join('').toUpperCase();
    }

    function formatDate(dateStr) {
        if (!dateStr) return '';
        if (dateStr.toLowerCase() === 'present') return 'Present';
        
        const date = new Date(dateStr + '-01');
        if (isNaN(date.getTime())) return dateStr;
        
        return date.toLocaleDateString('en-US', { 
            year: 'numeric', 
            month: 'short' 
        });
    }

    function calculateYearsExperience() {
        if (!cvData.experience || cvData.experience.length === 0) return 0;
        
        let totalMonths = 0;
        cvData.experience.forEach(exp => {
            const startDate = new Date(exp.startDate + '-01');
            const endDate = exp.endDate.toLowerCase() === 'present' ? new Date() : new Date(exp.endDate + '-01');
            
            if (!isNaN(startDate.getTime()) && !isNaN(endDate.getTime())) {
                const months = (endDate.getFullYear() - startDate.getFullYear()) * 12 + 
                              (endDate.getMonth() - startDate.getMonth());
                totalMonths += months;
            }
        });
        
        return Math.floor(totalMonths / 12);
    }

    // Theme toggle functionality
    function initializeTheme() {
        const themeToggle = document.getElementById('theme-toggle');
        const sunIcon = document.getElementById('sun-icon');
        const moonIcon = document.getElementById('moon-icon');
        const body = document.body;
        
        // Check for saved theme preference or default to dark
        const savedTheme = localStorage.getItem('theme') || 'dark';
        setTheme(savedTheme);
        
        function setTheme(theme) {
            if (theme === 'light') {
                body.classList.remove('dark-theme');
                body.classList.add('light-theme');
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
            } else {
                body.classList.remove('light-theme');
                body.classList.add('dark-theme');
                sunIcon.classList.remove('hidden');
                moonIcon.classList.add('hidden');
            }
            localStorage.setItem('theme', theme);
        }
        
        themeToggle.addEventListener('click', () => {
            const currentTheme = body.classList.contains('light-theme') ? 'light' : 'dark';
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            setTheme(newTheme);
        });
    }

    // Update page title and meta
    document.title = `${cvData.personalInfo.name} - Professional Profile`;

    // Update header
    const headerName = document.getElementById('header-name');
    const headerTitle = document.getElementById('header-title');
    const emailLink = document.getElementById('email-link');

    if (headerName) headerName.textContent = cvData.personalInfo.name;
    if (emailLink) emailLink.href = `mailto:${cvData.personalInfo.email}`;
    
    const currentTitle = cvData.experience.length > 0 ? cvData.experience[0].title : 'Professional';
    if (headerTitle) headerTitle.textContent = currentTitle;

    // Update hero section
    const heroName = document.getElementById('hero-name');
    const heroTitle = document.getElementById('hero-title');
    const heroLocation = document.getElementById('hero-location');
    const heroSummary = document.getElementById('hero-summary');
    const heroAvatar = document.getElementById('hero-avatar');

    if (heroName) heroName.textContent = cvData.personalInfo.name;
    if (heroTitle) heroTitle.textContent = currentTitle;
    
    if (heroSummary) {
        heroSummary.textContent = cvData.personalInfo.summary || 'Professional dedicated to excellence and innovation.';
    }
    
    if (heroLocation) {
        const locationSpan = heroLocation.querySelector('span');
        if (locationSpan) locationSpan.textContent = cvData.personalInfo.location;
    }

    // Handle hero avatar
    if (heroAvatar && cvData.personalInfo.profilePicture) {
        heroAvatar.innerHTML = `<img src="${cvData.personalInfo.profilePicture}" alt="${cvData.personalInfo.name}" class="w-full h-full object-cover rounded-full">`;
        heroAvatar.className = "hero-avatar w-48 h-48 rounded-full overflow-hidden";
    } else if (heroAvatar) {
        heroAvatar.className = "hero-avatar w-48 h-48 rounded-full bg-white/10 flex items-center justify-center text-6xl font-bold text-white backdrop-blur-sm";
        const initials = getInitials(cvData.personalInfo.name);
        heroAvatar.innerHTML = `<span>${initials}</span>`;
    }

    // Update About Me section
    const aboutText = document.getElementById('about-text');
    const yearsExperience = document.getElementById('years-experience');
    const projectsCompleted = document.getElementById('projects-completed');
    const skillsCount = document.getElementById('skills-count');

    if (aboutText && cvData.personalInfo.aboutMe) {
        aboutText.textContent = cvData.personalInfo.aboutMe;
    }

    // Calculate and display statistics
    if (yearsExperience) {
        const years = calculateYearsExperience();
        yearsExperience.textContent = years;
    }

    if (projectsCompleted) {
        const projectCount = cvData.projects ? cvData.projects.length : 0;
        projectsCompleted.textContent = projectCount;
    }

    if (skillsCount) {
        const totalSkills = (cvData.skills.technical?.length || 0) + (cvData.skills.soft?.length || 0);
        skillsCount.textContent = totalSkills;
    }

    // Update quick contact
    const quickEmail = document.getElementById('quick-email');
    const quickPhone = document.getElementById('quick-phone');

    if (quickEmail) {
        quickEmail.href = `mailto:${cvData.personalInfo.email}`;
        const emailSpan = quickEmail.querySelector('span');
        if (emailSpan) emailSpan.textContent = cvData.personalInfo.email;
    }
    
    if (quickPhone) {
        quickPhone.href = `tel:${cvData.personalInfo.phone}`;
        const phoneSpan = quickPhone.querySelector('span');
        if (phoneSpan) phoneSpan.textContent = cvData.personalInfo.phone;
    }

    // Render Experience
    const experienceContainer = document.getElementById('experience-container');
    if (experienceContainer && cvData.experience.length > 0) {
        experienceContainer.innerHTML = cvData.experience.map(exp => `
            <div class="experience-card">
                <div class="flex flex-col lg:flex-row lg:justify-between lg:items-start mb-4">
                    <div class="flex-1">
                        <h3 class="text-xl font-semibold text-white mb-1">${exp.title}</h3>
                        <p class="text-lg text-blue-400 font-medium mb-1">${exp.company}</p>
                        <p class="text-gray-300">${exp.location}</p>
                    </div>
                    <div class="text-gray-400 text-right mt-2 lg:mt-0 lg:ml-4 flex-shrink-0">
                        <p class="font-medium text-sm lg:text-base whitespace-nowrap">${formatDate(exp.startDate)} - ${formatDate(exp.endDate)}</p>
                    </div>
                </div>
                <p class="text-gray-300 mb-4 leading-relaxed">${exp.description}</p>
                ${exp.achievements && exp.achievements.length > 0 ? `
                    <div>
                        <h4 class="font-medium text-white mb-2">Key Achievements:</h4>
                        <ul class="list-disc list-inside text-gray-300 space-y-1">
                            ${exp.achievements.map(achievement => `<li>${achievement}</li>`).join('')}
                        </ul>
                    </div>
                ` : ''}
            </div>
        `).join('');
    } else {
        const experienceSection = document.getElementById('experience-section');
        if (experienceSection) experienceSection.style.display = 'none';
    }

    // Render Skills
    const technicalSkills = document.getElementById('technical-skills');
    const softSkills = document.getElementById('soft-skills');
    const languages = document.getElementById('languages');

    if (technicalSkills && cvData.skills.technical.length > 0) {
        technicalSkills.innerHTML = cvData.skills.technical.map(skill =>
            `<span class="skill-tag">${skill}</span>`
        ).join('');
    }

    if (softSkills && cvData.skills.soft.length > 0) {
        softSkills.innerHTML = cvData.skills.soft.map(skill =>
            `<span class="skill-tag">${skill}</span>`
        ).join('');
    }

    if (languages && cvData.skills.languages.length > 0) {
        languages.innerHTML = cvData.skills.languages.map(lang =>
            `<span class="skill-tag">${lang}</span>`
        ).join('');
    } else {
        const languagesSection = document.getElementById('languages-section');
        if (languagesSection) languagesSection.style.display = 'none';
    }

    // Hide skills section if no skills
    if (cvData.skills.technical.length === 0 && cvData.skills.soft.length === 0) {
        const skillsSection = document.getElementById('skills-section');
        if (skillsSection) skillsSection.style.display = 'none';
    }

    // Render Education
    const educationContainer = document.getElementById('education-container');
    if (educationContainer && cvData.education.length > 0) {
        educationContainer.innerHTML = cvData.education.map(edu => `
            <div class="education-card">
                <div class="flex flex-col lg:flex-row lg:justify-between lg:items-start mb-4">
                    <div class="flex-1">
                        <h3 class="text-xl font-semibold text-white mb-1">${edu.degree}</h3>
                        <p class="text-lg text-blue-400 font-medium mb-1">${edu.institution}</p>
                        <p class="text-gray-300">${edu.location}</p>
                        ${edu.gpa ? `<p class="text-gray-300">GPA: ${edu.gpa}</p>` : ''}
                    </div>
                    <div class="text-gray-400 text-right mt-2 lg:mt-0 lg:ml-4 flex-shrink-0">
                        <p class="font-medium text-sm lg:text-base whitespace-nowrap">${edu.graduationDate}</p>
                    </div>
                </div>
                ${edu.achievements && edu.achievements.length > 0 ? `
                    <div>
                        <h4 class="font-medium text-white mb-2">Achievements:</h4>
                        <ul class="list-disc list-inside text-gray-300 space-y-1">
                            ${edu.achievements.map(achievement => `<li>${achievement}</li>`).join('')}
                        </ul>
                    </div>
                ` : ''}
            </div>
        `).join('');
    } else {
        const educationSection = document.getElementById('education-section');
        if (educationSection) educationSection.style.display = 'none';
    }

    // Render Projects
    const projectsContainer = document.getElementById('projects-container');
    if (projectsContainer && cvData.projects.length > 0) {
        projectsContainer.innerHTML = cvData.projects.map(project => `
            <div class="project-card">
                <h3 class="text-xl font-semibold text-white mb-3">${project.name}</h3>
                <p class="text-gray-300 mb-4">${project.description}</p>
                ${project.technologies && project.technologies.length > 0 ? `
                    <div class="mb-4">
                        <h4 class="text-sm font-medium text-white mb-2">Technologies:</h4>
                        <div class="flex flex-wrap gap-2">
                            ${project.technologies.map(tech => `<span class="skill-tag text-xs">${tech}</span>`).join('')}
                        </div>
                    </div>
                ` : ''}
                ${project.url ? `
                    <a href="${project.url}" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 font-medium text-sm">
                        View Project →
                    </a>
                ` : ''}
            </div>
        `).join('');
    } else {
        const projectsSection = document.getElementById('projects-section');
        if (projectsSection) projectsSection.style.display = 'none';
    }

    // Render Certifications
    const certificationsContainer = document.getElementById('certifications-container');
    if (certificationsContainer && cvData.certifications.length > 0) {
        certificationsContainer.innerHTML = cvData.certifications.map(cert => `
            <div class="certification-card">
                <h3 class="text-lg font-semibold text-white mb-2">${cert.name}</h3>
                <p class="text-blue-400 font-medium mb-2">${cert.issuer}</p>
                <p class="text-gray-300 text-sm mb-3">${cert.date}</p>
                ${cert.url ? `
                    <a href="${cert.url}" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 font-medium text-sm">
                        View Certificate
                    </a>
                ` : ''}
            </div>
        `).join('');
    } else {
        const certificationsSection = document.getElementById('certifications-section');
        if (certificationsSection) certificationsSection.style.display = 'none';
    }

    // Update contact buttons
    const contactEmailBtn = document.getElementById('contact-email-btn');
    const contactPhoneBtn = document.getElementById('contact-phone-btn');
    const footerName = document.getElementById('footer-name');

    if (contactEmailBtn) contactEmailBtn.href = `mailto:${cvData.personalInfo.email}`;
    if (contactPhoneBtn) contactPhoneBtn.href = `tel:${cvData.personalInfo.phone}`;
    if (footerName) footerName.textContent = cvData.personalInfo.name;

    // Add contact button functionality
    const contactBtn = document.getElementById('contact-btn');
    if (contactBtn) {
        contactBtn.addEventListener('click', function () {
            window.location.href = `mailto:${cvData.personalInfo.email}`;
        });
    }

    console.log('Landing page loaded successfully with dark theme!');
});

[END OF FILE: templates\professional\script.js]

--------------------------------------------------------------------------------
FILE: templates\professional\index.html
SIZE: 14758 bytes (14.4 KB)
--------------------------------------------------------------------------------
<!-- File: templates/professional/index.html -->
<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{NAME}} - Professional Profile</title>
    <meta name="description" content="{{NAME}} - {{SUMMARY_EXCERPT}}">
    <meta name="keywords" content="{{SKILLS_KEYWORDS}}">
    <meta name="color-scheme" content="dark light">
    
    <!-- Open Graph -->
    <meta property="og:title" content="{{NAME}} - Professional Profile">
    <meta property="og:description" content="{{SUMMARY_EXCERPT}}">
    <meta property="og:type" content="profile">
    <meta property="og:url" content="{{SITE_URL}}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNCIgZmlsbD0iIzM3NDNGRiIvPgo8dGV4dCB4PSIxNiIgeT0iMjAiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5QPC90ZXh0Pgo8L3N2Zz4K">
    
    <link href="styles.css" rel="stylesheet">
</head>
<body class="dark-theme">
    <!-- Theme Toggle -->
    <button id="theme-toggle" class="fixed top-4 right-4 z-50 p-2 rounded-lg bg-gray-800 text-white hover:bg-gray-700 transition-colors" title="Toggle Theme">
        <svg id="sun-icon" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
        </svg>
        <svg id="moon-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
        </svg>
    </button>

    <!-- Header -->
    <header class="bg-gray-900 shadow-sm sticky top-0 z-40 border-b border-gray-700">
        <nav class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div>
                    <h1 id="header-name" class="text-xl font-semibold text-white text-glow">{{NAME}}</h1>
                    <p id="header-title" class="text-sm text-gray-300">{{CURRENT_TITLE}}</p>
                </div>
                
                <div class="flex items-center space-x-4">
                    <a id="email-link" href="mailto:{{EMAIL}}" class="text-blue-400 hover:text-blue-300 transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                        </svg>
                    </a>
                    <button id="contact-btn" class="btn bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                        Contact Me
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero-section text-white py-16">
        <div class="hero-content max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col lg:flex-row items-center space-y-8 lg:space-y-0 lg:space-x-12">
                <div class="flex-1 text-center lg:text-left">
                    <h1 id="hero-name" class="text-4xl lg:text-5xl font-bold mb-4 text-glow section-header">{{NAME}}</h1>
                    <h2 id="hero-title" class="text-xl lg:text-2xl text-blue-200 mb-6">{{CURRENT_TITLE}}</h2>
                    <div id="hero-location" class="flex items-center justify-center lg:justify-start text-blue-200 mb-6">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                        <span>{{LOCATION}}</span>
                    </div>
                    <p id="hero-summary" class="text-lg text-blue-100 leading-relaxed">{{SUMMARY}}</p>
                </div>
                
                <div class="flex-shrink-0">
                    <div id="hero-avatar" class="hero-avatar w-48 h-48 rounded-full bg-white/10 flex items-center justify-center text-6xl font-bold text-white backdrop-blur-sm overflow-hidden">
                        <span id="hero-initials">{{INITIALS}}</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Me Section -->
    <section class="py-16 bg-gray-800">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="section-header text-3xl font-bold text-white mb-6">About Me</h2>
            </div>
            
            <div class="max-w-4xl mx-auto">
                <div class="about-card bg-gray-900/50 backdrop-blur-sm rounded-2xl p-8 border border-gray-700">
                    <div id="about-content" class="prose prose-invert max-w-none">
                        <p id="about-text" class="text-gray-300 text-lg leading-relaxed">{{ABOUT_ME}}</p>
                    </div>
                    
                    <!-- Key Highlights -->
                    <div id="about-highlights" class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="text-center">
                            <div class="text-3xl font-bold text-blue-400 mb-2" id="years-experience">{{YEARS_EXPERIENCE}}+</div>
                            <p class="text-gray-400 text-sm">Years Experience</p>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-blue-400 mb-2" id="projects-completed">{{PROJECTS_COUNT}}+</div>
                            <p class="text-gray-400 text-sm">Projects Completed</p>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-blue-400 mb-2" id="skills-count">{{SKILLS_COUNT}}+</div>
                            <p class="text-gray-400 text-sm">Technologies</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Quick Contact -->
    <section class="bg-gray-900 py-8 border-b border-gray-700">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-wrap justify-center items-center gap-6">
                <a id="quick-email" href="mailto:{{EMAIL}}" class="flex items-center space-x-2 text-gray-400 hover:text-blue-400 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                    <span>{{EMAIL}}</span>
                </a>
                
                <a id="quick-phone" href="tel:{{PHONE}}" class="flex items-center space-x-2 text-gray-400 hover:text-blue-400 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                    </svg>
                    <span>{{PHONE}}</span>
                </a>
                
                <div id="quick-linkedin" class="flex items-center space-x-2 text-gray-400">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                    </svg>
                    <span>LinkedIn Profile</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Experience Section -->
    <section id="experience-section" class="py-16 bg-gray-800">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="section-header text-3xl font-bold text-white mb-12 text-center">Professional Experience</h2>
            <div id="experience-container" class="space-y-8">
                <!-- Experience items will be inserted here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Skills Section -->
    <section id="skills-section" class="py-16 bg-gray-900">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="section-header text-3xl font-bold mb-12 text-center text-white">Skills & Expertise</h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Technical Skills -->
                <div>
                    <h3 class="text-xl font-semibold mb-6 text-white">Technical Skills</h3>
                    <div id="technical-skills" class="flex flex-wrap gap-3">
                        <!-- Technical skills will be inserted here -->
                    </div>
                </div>
                
                <!-- Soft Skills -->
                <div>
                    <h3 class="text-xl font-semibold mb-6 text-white">Core Competencies</h3>
                    <div id="soft-skills" class="flex flex-wrap gap-3">
                        <!-- Soft skills will be inserted here -->
                    </div>
                </div>
            </div>
            
            <!-- Languages -->
            <div id="languages-section" class="mt-12">
                <h3 class="text-xl font-semibold mb-6 text-center text-white">Languages</h3>
                <div id="languages" class="flex flex-wrap justify-center gap-4">
                    <!-- Languages will be inserted here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Education Section -->
    <section id="education-section" class="py-16 bg-gray-800">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="section-header text-3xl font-bold text-white mb-12 text-center">Education</h2>
            <div id="education-container" class="space-y-8">
                <!-- Education items will be inserted here -->
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects-section" class="py-16 bg-gray-900">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="section-header text-3xl font-bold text-white mb-12 text-center">Featured Projects</h2>
            <div id="projects-container" class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Project items will be inserted here -->
            </div>
        </div>
    </section>

    <!-- Certifications Section -->
    <section id="certifications-section" class="py-16 bg-gray-800">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="section-header text-3xl font-bold text-white mb-12 text-center">Certifications</h2>
            <div id="certifications-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Certification items will be inserted here -->
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section py-16 text-white">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
            <h2 class="text-3xl font-bold mb-6 text-glow">Let's Work Together</h2>
            <p class="text-xl text-blue-200 mb-8 max-w-2xl mx-auto">
                I'm always interested in hearing about new opportunities and interesting projects.
            </p>
            <div class="flex flex-col sm:flex-row justify-center gap-4">
                <a id="contact-email-btn" href="mailto:{{EMAIL}}" class="btn bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors">
                    Send Email
                </a>
                <a id="contact-phone-btn" href="tel:{{PHONE}}" class="btn border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors">
                    Call Me
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="custom-footer text-gray-300 py-8 bg-gray-900">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p>&copy; 2025 <span id="footer-name">{{NAME}}</span>. All rights reserved.</p>
                </div>
                <div class="text-sm text-gray-400 text-center md:text-right">
                    <p>Generated with ❤️ by <strong class="text-blue-400">Hadar's ARTech</strong></p>
                    <p class="text-xs mt-1">Professional CV Landing Page Generator</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="data.js"></script>
    <script src="script.js"></script>
</body>
</html>

[END OF FILE: templates\professional\index.html]

--------------------------------------------------------------------------------
FILE: templates\professional\styles.css
SIZE: 19031 bytes (18.6 KB)
--------------------------------------------------------------------------------
/* File: templates/professional/styles.css */
/*! Professional CV with Dark Theme - Modern Design */

/* Base reset */
*,
::before,
::after {
  box-sizing: border-box;
  border-width: 0;
  border-style: solid;
  border-color: #374151;
}

html {
  line-height: 1.6;
  -webkit-text-size-adjust: 100%;
  font-family: 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  scroll-behavior: smooth;
}

/* Dark theme base */
body {
  margin: 0;
  line-height: inherit;
  background: linear-gradient(-45deg, #0f172a, #1e293b, #334155, #475569);
  background-size: 400% 400%;
  animation: gradientShift 20s ease infinite;
  min-height: 100vh;
  color: #f1f5f9;
  position: relative;
  overflow-x: hidden;
}

/* Light theme */
body.light-theme {
  background: linear-gradient(-45deg, #f8fafc, #e2e8f0, #f1f5f9, #e0f2fe);
  color: #0f172a;
}

/* Animated background */
@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Floating particles */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.1) 1px, transparent 1px),
    radial-gradient(circle at 80% 50%, rgba(29, 78, 216, 0.08) 1px, transparent 1px);
  background-size: 200px 200px, 300px 300px;
  animation: floatingParticles 30s linear infinite;
  pointer-events: none;
  z-index: 1;
}

@keyframes floatingParticles {
  0% { transform: translateY(0px) rotate(0deg); }
  100% { transform: translateY(-1000px) rotate(360deg); }
}

/* Theme toggle button */
#theme-toggle {
  background: rgba(31, 41, 55, 0.9);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(75, 85, 99, 0.3);
  transition: all 0.3s ease;
}

#theme-toggle:hover {
  background: rgba(55, 65, 81, 0.9);
  transform: scale(1.05);
}

.light-theme #theme-toggle {
  background: rgba(255, 255, 255, 0.9);
  color: #374151;
  border-color: rgba(209, 213, 219, 0.3);
}

.light-theme #theme-toggle:hover {
  background: rgba(249, 250, 251, 0.9);
}

/* Header styles */
header {
  background: rgba(17, 24, 39, 0.95) !important;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(75, 85, 99, 0.3) !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  position: relative;
  z-index: 100;
}

.light-theme header {
  background: rgba(255, 255, 255, 0.95) !important;
  border-bottom: 1px solid rgba(226, 232, 240, 0.5) !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* Hero section */
.hero-section {
  background: linear-gradient(135deg, 
    rgba(15, 23, 42, 0.95) 0%,
    rgba(30, 41, 59, 0.9) 50%,
    rgba(51, 65, 85, 0.85) 100%
  ) !important;
  position: relative;
  overflow: hidden;
}

.light-theme .hero-section {
  background: linear-gradient(135deg, 
    rgba(59, 130, 246, 0.9) 0%,
    rgba(29, 78, 216, 0.85) 50%,
    rgba(37, 99, 235, 0.8) 100%
  ) !important;
}

.hero-section::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: conic-gradient(
    from 0deg,
    transparent,
    rgba(59, 130, 246, 0.1),
    transparent,
    rgba(29, 78, 216, 0.1),
    transparent
  );
  animation: rotate 30s linear infinite;
  z-index: 1;
}

@keyframes rotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.hero-content {
  position: relative;
  z-index: 10;
}

/* Hero avatar */
.hero-avatar {
  position: relative;
  filter: drop-shadow(0 0 20px rgba(59, 130, 246, 0.3));
}

.hero-avatar::before {
  content: '';
  position: absolute;
  top: -5px;
  left: -5px;
  right: -5px;
  bottom: -5px;
  border-radius: 50%;
  background: linear-gradient(45deg, #3b82f6, #1d4ed8, #2563eb, #1e40af);
  background-size: 200% 200%;
  animation: gradientBorder 4s ease infinite;
  z-index: -1;
}

@keyframes gradientBorder {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* About Me section */
.about-card {
  background: rgba(17, 24, 39, 0.6);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(75, 85, 99, 0.3);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.light-theme .about-card {
  background: rgba(255, 255, 255, 0.9);
  border-color: rgba(226, 232, 240, 0.6);
}

.about-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

.light-theme .about-card:hover {
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
}

/* Cards and components */
.card, .experience-card, .project-card, .certification-card, .education-card {
  background: rgba(17, 24, 39, 0.8);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(75, 85, 99, 0.3);
  border-radius: 16px;
  padding: 2rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.light-theme .card, 
.light-theme .experience-card, 
.light-theme .project-card, 
.light-theme .certification-card,
.light-theme .education-card {
  background: rgba(255, 255, 255, 0.85);
  border-color: rgba(226, 232, 240, 0.6);
  box-shadow: 0 8px 32px rgba(15, 23, 42, 0.1);
}

.card::before,
.experience-card::before,
.project-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
  transition: left 0.5s;
}

.card:hover::before,
.experience-card:hover::before,
.project-card:hover::before {
  left: 100%;
}

.card:hover,
.experience-card:hover,
.project-card:hover,
.certification-card:hover,
.education-card:hover {
  transform: translateY(-8px) scale(1.01);
  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
}

.light-theme .card:hover,
.light-theme .experience-card:hover,
.light-theme .project-card:hover,
.light-theme .certification-card:hover,
.light-theme .education-card:hover {
  box-shadow: 0 25px 50px rgba(15, 23, 42, 0.15);
}

/* Skill tags */
.skill-tag {
  display: inline-block;
  padding: 0.5rem 1.2rem;
  margin: 0.3rem;
  border-radius: 20px;
  font-size: 0.875rem;
  font-weight: 600;
  position: relative;
  overflow: hidden;
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(29, 78, 216, 0.3));
  color: #93c5fd;
  border: 1px solid rgba(59, 130, 246, 0.3);
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
  cursor: pointer;
}

.light-theme .skill-tag {
  background: linear-gradient(135deg, #3b82f6, #1d4ed8);
  color: white;
  border-color: rgba(59, 130, 246, 0.3);
}

.skill-tag::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left 0.5s;
}

.skill-tag:hover::before {
  left: 100%;
}

.skill-tag:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(29, 78, 216, 0.4));
}

.light-theme .skill-tag:hover {
  box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
  background: linear-gradient(135deg, #2563eb, #1e40af);
}

/* Section headers */
.section-header {
  position: relative;
  display: inline-block;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #3b82f6, #2563eb);
  background-size: 200% 200%;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradientText 5s ease infinite;
}

.light-theme .section-header {
  background: linear-gradient(135deg, #1e40af, #3b82f6, #2563eb);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

@keyframes gradientText {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.section-header::after {
  content: '';
  position: absolute;
  bottom: -10px;
  left: 0;
  width: 100%;
  height: 3px;
  background: linear-gradient(90deg, #3b82f6, #1d4ed8);
  border-radius: 2px;
  transform: scaleX(0);
  transform-origin: left;
  animation: lineGrow 1s ease forwards;
}

@keyframes lineGrow {
  to { transform: scaleX(1); }
}

/* Contact section */
.contact-section {
  background: linear-gradient(135deg, 
    rgba(15, 23, 42, 0.95) 0%,
    rgba(30, 41, 59, 0.9) 100%
  ) !important;
  position: relative;
  overflow: hidden;
}

.light-theme .contact-section {
  background: linear-gradient(135deg, 
    rgba(59, 130, 246, 0.9) 0%,
    rgba(29, 78, 216, 0.85) 100%
  ) !important;
}

.contact-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.15) 0%, transparent 40%),
    radial-gradient(circle at 80% 80%, rgba(29, 78, 216, 0.12) 0%, transparent 40%);
  animation: cosmicDrift 20s ease infinite;
  z-index: 1;
}

@keyframes cosmicDrift {
  0%, 100% { transform: scale(1) rotate(0deg); }
  50% { transform: scale(1.05) rotate(180deg); }
}

/* Footer */
.custom-footer {
  background: rgba(17, 24, 39, 0.98) !important;
  backdrop-filter: blur(20px);
  border-top: 1px solid rgba(59, 130, 246, 0.2) !important;
  position: relative;
}

.light-theme .custom-footer {
  background: rgba(255, 255, 255, 0.98) !important;
  border-top: 1px solid rgba(226, 232, 240, 0.5) !important;
}

/* Buttons */
button, .btn {
  background: linear-gradient(135deg, #3b82f6, #1d4ed8);
  border: none;
  border-radius: 8px;
  padding: 12px 24px;
  color: white;
  font-weight: 600;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
}

button::before, .btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left 0.5s;
}

button:hover::before, .btn:hover::before {
  left: 100%;
}

button:hover, .btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
}

/* Text effects */
.text-glow {
  text-shadow: 0 2px 10px rgba(59, 130, 246, 0.3);
}

.light-theme .text-glow {
  text-shadow: 0 2px 10px rgba(59, 130, 246, 0.5);
}

/* Background utilities */
.bg-gray-800 { 
  background: rgba(31, 41, 55, 0.9) !important;
  backdrop-filter: blur(10px);
}

.bg-gray-900 { 
  background: rgba(17, 24, 39, 0.9) !important;
  backdrop-filter: blur(10px);
}

.light-theme .bg-gray-800 { 
  background: rgba(248, 250, 252, 0.9) !important;
}

.light-theme .bg-gray-900 { 
  background: rgba(255, 255, 255, 0.9) !important;
}

/* Text colors */
.text-white { color: #f1f5f9 !important; }
.text-gray-100 { color: #f1f5f9 !important; }
.text-gray-200 { color: #e2e8f0 !important; }
.text-gray-300 { color: #cbd5e1 !important; }
.text-gray-400 { color: #94a3b8 !important; }
.text-blue-100 { color: #dbeafe !important; }
.text-blue-200 { color: #bfdbfe !important; }
.text-blue-400 { color: #60a5fa !important; }

.light-theme .text-white { color: #0f172a !important; }
.light-theme .text-gray-100 { color: #0f172a !important; }
.light-theme .text-gray-200 { color: #1e293b !important; }
.light-theme .text-gray-300 { color: #334155 !important; }
.light-theme .text-gray-400 { color: #475569 !important; }

/* Utility classes */
.max-w-6xl { max-width: 72rem; }
.max-w-4xl { max-width: 56rem; }
.max-w-2xl { max-width: 42rem; }
.max-w-none { max-width: none; }
.mx-auto { margin-left: auto; margin-right: auto; }
.mb-1 { margin-bottom: 0.25rem; }
.mb-2 { margin-bottom: 0.5rem; }
.mb-3 { margin-bottom: 0.75rem; }
.mb-4 { margin-bottom: 1rem; }
.mb-6 { margin-bottom: 1.5rem; }
.mb-8 { margin-bottom: 2rem; }
.mb-12 { margin-bottom: 3rem; }
.mt-2 { margin-top: 0.5rem; }
.mt-4 { margin-top: 1rem; }
.mt-8 { margin-top: 2rem; }
.mt-12 { margin-top: 3rem; }
.mr-2 { margin-right: 0.5rem; }
.ml-3 { margin-left: 0.75rem; }
.px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
.px-4 { padding-left: 1rem; padding-right: 1rem; }
.px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
.px-8 { padding-left: 2rem; padding-right: 2rem; }
.py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
.py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
.py-4 { padding-top: 1rem; padding-bottom: 1rem; }
.py-8 { padding-top: 2rem; padding-bottom: 2rem; }
.py-16 { padding-top: 4rem; padding-bottom: 4rem; }
.p-2 { padding: 0.5rem; }
.p-8 { padding: 2rem; }
.w-5 { width: 1.25rem; }
.w-10 { width: 2.5rem; }
.w-20 { width: 5rem; }
.w-48 { width: 12rem; }
.w-full { width: 100%; }
.h-5 { height: 1.25rem; }
.h-10 { height: 2.5rem; }
.h-20 { height: 5rem; }
.h-48 { height: 12rem; }
.h-full { height: 100%; }
.flex { display: flex; }
.grid { display: grid; }
.hidden { display: none; }
.inline-block { display: inline-block; }
.flex-col { flex-direction: column; }
.flex-wrap { flex-wrap: wrap; }
.flex-1 { flex: 1 1 0%; }
.flex-shrink-0 { flex-shrink: 0; }
.items-center { align-items: center; }
.items-start { align-items: flex-start; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
.grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.gap-2 { gap: 0.5rem; }
.gap-3 { gap: 0.75rem; }
.gap-4 { gap: 1rem; }
.gap-6 { gap: 1.5rem; }
.gap-8 { gap: 2rem; }
.gap-12 { gap: 3rem; }
.space-x-2 > :not([hidden]) ~ :not([hidden]) { margin-left: 0.5rem; }
.space-x-3 > :not([hidden]) ~ :not([hidden]) { margin-left: 0.75rem; }
.space-x-4 > :not([hidden]) ~ :not([hidden]) { margin-left: 1rem; }
.space-x-12 > :not([hidden]) ~ :not([hidden]) { margin-left: 3rem; }
.space-y-1 > :not([hidden]) ~ :not([hidden]) { margin-top: 0.25rem; }
.space-y-8 > :not([hidden]) ~ :not([hidden]) { margin-top: 2rem; }
.rounded-lg { border-radius: 0.5rem; }
.rounded-2xl { border-radius: 1rem; }
.rounded-full { border-radius: 9999px; }
.border { border-width: 1px; }
.border-b { border-bottom-width: 1px; }
.border-2 { border-width: 2px; }
.border-4 { border-width: 4px; }
.border-white { border-color: #ffffff; }
.border-gray-700 { border-color: #374151; }
.shadow-sm { box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); }
.shadow-md { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1); }
.sticky { position: sticky; }
.fixed { position: fixed; }
.relative { position: relative; }
.top-0 { top: 0px; }
.top-4 { top: 1rem; }
.right-4 { right: 1rem; }
.z-40 { z-index: 40; }
.z-50 { z-index: 50; }
.overflow-hidden { overflow: hidden; }
.text-center { text-align: center; }
.text-right { text-align: right; }
.whitespace-nowrap { white-space: nowrap; }
.object-cover { object-fit: cover; }
.list-disc { list-style-type: disc; }
.list-inside { list-style-position: inside; }
.transition-colors { transition-property: color, background-color, border-color; transition-duration: 150ms; }
.text-xs { font-size: 0.75rem; line-height: 1rem; }
.text-sm { font-size: 0.875rem; line-height: 1.25rem; }
.text-base { font-size: 1rem; line-height: 1.5rem; }
.text-lg { font-size: 1.125rem; line-height: 1.75rem; }
.text-xl { font-size: 1.25rem; line-height: 1.75rem; }
.text-2xl { font-size: 1.5rem; line-height: 2rem; }
.text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
.text-4xl { font-size: 2.25rem; line-height: 2.5rem; }
.text-5xl { font-size: 3rem; line-height: 1; }
.font-medium { font-weight: 500; }
.font-semibold { font-weight: 600; }
.font-bold { font-weight: 700; }
.leading-relaxed { line-height: 1.625; }
.prose { max-width: 65ch; }
.prose-invert { color: #d1d5db; }

/* Hover effects */
.hover\:text-blue-300:hover { color: #93c5fd; }
.hover\:text-blue-400:hover { color: #60a5fa; }
.hover\:text-blue-600:hover { color: #2563eb; }
.hover\:text-blue-700:hover { color: #1d4ed8; }
.hover\:bg-blue-700:hover { background: linear-gradient(135deg, #2563eb, #1e40af); }
.hover\:bg-gray-600:hover { background-color: #4b5563; }
.hover\:bg-gray-700:hover { background-color: #374151; }
.hover\:bg-gray-100:hover { background-color: #f3f4f6; }
.hover\:bg-white:hover { background-color: #ffffff; }

/* Responsive design */
@media (min-width: 640px) {
  .sm\:px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
  .sm\:flex-row { flex-direction: row; }
}

@media (min-width: 768px) {
  .md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .md\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .md\:flex-row { flex-direction: row; }
  .md\:mb-0 { margin-bottom: 0px; }
  .md\:text-right { text-align: right; }
}

@media (min-width: 1024px) {
  .lg\:px-8 { padding-left: 2rem; padding-right: 2rem; }
  .lg\:text-2xl { font-size: 1.5rem; line-height: 2rem; }
  .lg\:text-5xl { font-size: 3rem; line-height: 1; }
  .lg\:text-base { font-size: 1rem; line-height: 1.5rem; }
  .lg\:flex-row { flex-direction: row; }
  .lg\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .lg\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .lg\:justify-between { justify-content: space-between; }
  .lg\:items-start { align-items: flex-start; }
  .lg\:mt-0 { margin-top: 0px; }
  .lg\:ml-4 { margin-left: 1rem; }
  .lg\:text-right { text-align: right; }
  .lg\:space-y-0 > :not([hidden]) ~ :not([hidden]) { margin-top: 0px; }
  .lg\:space-x-12 > :not([hidden]) ~ :not([hidden]) { margin-left: 3rem; }
  .lg\:text-left { text-align: left; }
  .lg\:justify-start { justify-content: flex-start; }
}

/* Print styles */
@media print {
  body {
    background: white !important;
    animation: none !important;
    color: #000 !important;
  }
  
  body::before {
    display: none !important;
  }
  
  .card, .experience-card, .project-card, .certification-card {
    background: white !important;
    backdrop-filter: none !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    border: 1px solid #e5e7eb !important;
    color: #000 !important;
  }
  
  .skill-tag {
    background: #f3f4f6 !important;
    color: #374151 !important;
    border: 1px solid #d1d5db !important;
  }
  
  #theme-toggle {
    display: none !important;
  }
}

[END OF FILE: templates\professional\styles.css]

--------------------------------------------------------------------------------
FILE: templates\professional\README.md
SIZE: 683 bytes (0.7 KB)
--------------------------------------------------------------------------------
# Professional Landing Page Template

This template generates a professional landing page from CV data.

## Features

- Responsive design
- Professional layout
- Skills showcase
- Experience timeline
- Projects portfolio
- Contact information
- Print-friendly styles

## Generated Files

- `index.html` - Main landing page
- `styles.css` - Compiled Tailwind CSS
- `script.js` - Interactive functionality
- `data.js` - Hardcoded CV data

## Customization

The template can be customized by editing:
- Colors in `styles.css`
- Layout in `index.html`
- Functionality in `script.js`

## Browser Support

- Chrome 60+
- Firefox 60+
- Safari 12+
- Edge 79+

[END OF FILE: templates\professional\README.md]

--------------------------------------------------------------------------------
FILE: templates\professional\data.js.template
SIZE: 2046 bytes (2 KB)
--------------------------------------------------------------------------------
// CV Data Template - This will be replaced with actual user data
const cvData = {
  personalInfo: {
    name: "{{NAME}}",
    email: "{{EMAIL}}",
    phone: "{{PHONE}}",
    location: "{{LOCATION}}",
    profilePicture: "{{PROFILE_PICTURE}}",
    summary: "{{SUMMARY}}"
  },
  experience: [
    {{#each EXPERIENCE}}
    {
      title: "{{title}}",
      company: "{{company}}",
      location: "{{location}}",
      startDate: "{{startDate}}",
      endDate: "{{endDate}}",
      description: "{{description}}",
      achievements: [
        {{#each achievements}}
        "{{this}}"{{#unless @last}},{{/unless}}
        {{/each}}
      ]
    }{{#unless @last}},{{/unless}}
    {{/each}}
  ],
  education: [
    {{#each EDUCATION}}
    {
      degree: "{{degree}}",
      institution: "{{institution}}",
      location: "{{location}}",
      graduationDate: "{{graduationDate}}",
      gpa: "{{gpa}}",
      achievements: [
        {{#each achievements}}
        "{{this}}"{{#unless @last}},{{/unless}}
        {{/each}}
      ]
    }{{#unless @last}},{{/unless}}
    {{/each}}
  ],
  skills: {
    technical: [
      {{#each SKILLS.technical}}
      "{{this}}"{{#unless @last}},{{/unless}}
      {{/each}}
    ],
    soft: [
      {{#each SKILLS.soft}}
      "{{this}}"{{#unless @last}},{{/unless}}
      {{/each}}
    ],
    languages: [
      {{#each SKILLS.languages}}
      "{{this}}"{{#unless @last}},{{/unless}}
      {{/each}}
    ]
  },
  projects: [
    {{#each PROJECTS}}
    {
      name: "{{name}}",
      description: "{{description}}",
      technologies: [
        {{#each technologies}}
        "{{this}}"{{#unless @last}},{{/unless}}
        {{/each}}
      ],
      url: "{{url}}"
    }{{#unless @last}},{{/unless}}
    {{/each}}
  ],
  certifications: [
    {{#each CERTIFICATIONS}}
    {
      name: "{{name}}",
      issuer: "{{issuer}}",
      date: "{{date}}",
      url: "{{url}}"
    }{{#unless @last}},{{/unless}}
    {{/each}}
  ]
};

[END OF FILE: templates\professional\data.js.template]

=====================================
DIRECTORY: lib
PATH: C:\Coding\cv-landing-generator\lib
=====================================

--------------------------------------------------------------------------------
FILE: lib\cv-parser-modular.js
SIZE: 8486 bytes (8.3 KB)
--------------------------------------------------------------------------------
// File: lib/cv-parser-modular.js
const fs = require('fs');
const pdfParse = require('pdf-parse');
const mammoth = require('mammoth');

// Import processors
const PersonalInfoProcessor = require('./cv-processors/personal-info-processor');
const AboutMeProcessor = require('./cv-processors/about-me-processor');
const ExperienceProcessor = require('./cv-processors/experience-processor');
const SkillsProcessor = require('./cv-processors/skills-processor');
const EducationProcessor = require('./cv-processors/education-processor');
const ProjectsProcessor = require('./cv-processors/projects-processor');

// Import utilities
const TextCleaner = require('./utils/text-cleaner');
const GeminiClient = require('./utils/gemini-client');

class ModularCVParser {
    constructor() {
        console.log('Initializing Modular CV Parser...');
        
        // Initialize processors
        this.personalInfoProcessor = new PersonalInfoProcessor();
        this.aboutMeProcessor = new AboutMeProcessor();
        this.experienceProcessor = new ExperienceProcessor();
        this.skillsProcessor = new SkillsProcessor();
        this.educationProcessor = new EducationProcessor();
        this.projectsProcessor = new ProjectsProcessor();
        
        // Test Gemini connection
        this.testGeminiConnection();
        
        console.log('Modular CV Parser ready');
    }

    async testGeminiConnection() {
        try {
            const geminiClient = new GeminiClient();
            await geminiClient.testConnection();
        } catch (error) {
            console.error('Gemini connection test failed:', error.message);
            throw error;
        }
    }

    async extractTextFromFile(filePath, mimeType) {
        try {
            console.log(`Extracting text from: ${filePath}`);
            console.log(`File type: ${mimeType}`);
            
            let extractedText = '';
            
            switch (mimeType) {
                case 'application/pdf':
                    extractedText = await this.extractFromPDF(filePath);
                    break;
                case 'application/msword':
                case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
                    extractedText = await this.extractFromWord(filePath);
                    break;
                default:
                    throw new Error('Unsupported file type: ' + mimeType);
            }
            
            console.log(`Text extraction successful: ${extractedText.length} characters`);
            return extractedText;
            
        } catch (error) {
            console.error('Text extraction error:', error);
            throw new Error('Failed to extract text from file: ' + error.message);
        }
    }

    async extractFromPDF(filePath) {
        console.log('Extracting from PDF...');
        const dataBuffer = fs.readFileSync(filePath);
        const data = await pdfParse(dataBuffer);
        return data.text;
    }

    async extractFromWord(filePath) {
        console.log('Extracting from Word document...');
        const result = await mammoth.extractRawText({ path: filePath });
        return result.value;
    }

    async processCV(extractedText) {
        console.log('Starting CV processing...');
        console.log(`Processing ${extractedText.length} characters`);
        
        // Clean the text first
        const cleanedText = TextCleaner.prepareForAI(extractedText);
        console.log(`Text cleaned: ${cleanedText.length} characters`);
        
        // Process in phases - NO TRY/CATCH, let errors bubble up
        const cvData = {};
        
        // Phase 1: Extract personal information
        console.log('\nPhase 1: Processing personal information...');
        const personalResult = await this.personalInfoProcessor.process(cleanedText);
        Object.assign(cvData, personalResult);
        
        // Phase 2: Generate about me content
        console.log('\nPhase 2: Generating about me content...');
        const aboutResult = await this.aboutMeProcessor.process(cleanedText, cvData);
        Object.assign(cvData, aboutResult);
        
        // Phase 3: Extract work experience
        console.log('\nPhase 3: Processing work experience...');
        const experienceResult = await this.experienceProcessor.process(cleanedText, cvData);
        Object.assign(cvData, experienceResult);
        
        // Phase 4: Extract and organize skills
        console.log('\nPhase 4: Processing skills...');
        const skillsResult = await this.skillsProcessor.process(cleanedText, cvData);
        Object.assign(cvData, skillsResult);
        
        // Phase 5: Extract education background
        console.log('\nPhase 5: Processing education...');
        const educationResult = await this.educationProcessor.process(cleanedText, cvData);
        Object.assign(cvData, educationResult);
        
        // Phase 6: Extract projects and portfolio work
        console.log('\nPhase 6: Processing projects...');
        const projectsResult = await this.projectsProcessor.process(cleanedText, cvData);
        Object.assign(cvData, projectsResult);
        
        // Combine data into final structure
        const finalData = this.buildFinalStructure(cvData);
        
        // Validate the data
        this.validateCVData(finalData);
        
        console.log('CV processing completed successfully');
        console.log(`Generated data for: ${finalData.personalInfo.name}`);
        
        return finalData;
    }

    buildFinalStructure(cvData) {
        // Build the complete CV data structure
        const personalInfo = cvData.personalInfo || {};
        const aboutData = cvData.aboutData || {};
        const experience = cvData.experience || [];
        const skills = cvData.skills || { technical: [], soft: [], languages: [] };
        const education = cvData.education || [];
        const projects = cvData.projects || [];
        
        return {
            personalInfo: {
                name: personalInfo.name || '',
                email: personalInfo.email || '',
                phone: personalInfo.phone || '',
                location: personalInfo.location || '',
                currentTitle: personalInfo.currentTitle || 'Professional',
                summary: aboutData.summary || '',
                aboutMe: aboutData.aboutMe || ''
            },
            experience: experience,
            skills: skills,
            education: education,
            projects: projects,
            // Future sections - still empty for now
            certifications: []
        };
    }

    // Legacy compatibility method
    async structureWithGemini(extractedText) {
        return await this.processCV(extractedText);
    }

    // Utility method to validate the final data
    validateCVData(cvData) {
        const errors = [];
        
        if (!cvData.personalInfo?.name) {
            errors.push('Missing name');
        }
        
        if (!cvData.personalInfo?.summary) {
            errors.push('Missing summary');
        }
        
        if (!cvData.personalInfo?.aboutMe) {
            errors.push('Missing about me');
        }
        
        if (errors.length > 0) {
            throw new Error('CV data validation failed: ' + errors.join(', '));
        }
        
        console.log('CV data validation passed');
        return true;
    }

    // Method to get processing statistics
    getProcessingStats(cvData) {
        const stats = {
            personalInfo: {
                hasName: !!cvData.personalInfo?.name,
                hasEmail: !!cvData.personalInfo?.email,
                hasPhone: !!cvData.personalInfo?.phone,
                hasLocation: !!cvData.personalInfo?.location,
                hasSummary: !!cvData.personalInfo?.summary,
                hasAboutMe: !!cvData.personalInfo?.aboutMe
            },
            contentLengths: {
                summary: cvData.personalInfo?.summary?.length || 0,
                aboutMe: cvData.personalInfo?.aboutMe?.length || 0
            }
        };
        
        console.log('Processing statistics:', JSON.stringify(stats, null, 2));
        return stats;
    }
}

module.exports = ModularCVParser;

[END OF FILE: lib\cv-parser-modular.js]

--------------------------------------------------------------------------------
FILE: lib\cv-parser.js
SIZE: 24404 bytes (23.8 KB)
--------------------------------------------------------------------------------
// File: lib/cv-parser.js
const fs = require('fs');
const pdfParse = require('pdf-parse');
const mammoth = require('mammoth');
const { GoogleGenerativeAI } = require('@google/generative-ai');

class CVParser {
    constructor() {
        // Validate API key on construction
        if (!process.env.GEMINI_API_KEY) {
            throw new Error('GEMINI_API_KEY environment variable is required for CV processing');
        }

        // Log API key info for debugging (safely)
        console.log('Initializing Gemini with API key length:', process.env.GEMINI_API_KEY.length);
        console.log('API key starts with:', process.env.GEMINI_API_KEY.substring(0, 10) + '...');

        try {
            this.genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);
            this.model = this.genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
            console.log('✅ Gemini AI initialized successfully');
        } catch (error) {
            console.error('Failed to initialize Gemini AI:', error);
            throw new Error('Failed to initialize Gemini AI: ' + error.message);
        }
    }

    async extractTextFromFile(filePath, mimeType) {
        try {
            console.log('Extracting text from:', filePath, 'Type:', mimeType);
            
            switch (mimeType) {
                case 'application/pdf':
                    return await this.extractFromPDF(filePath);
                case 'application/msword':
                case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
                    return await this.extractFromWord(filePath);
                default:
                    throw new Error('Unsupported file type: ' + mimeType);
            }
        } catch (error) {
            console.error('Text extraction error:', error);
            throw new Error('Failed to extract text from file: ' + error.message);
        }
    }

    async extractFromPDF(filePath) {
        console.log('Extracting from PDF...');
        const dataBuffer = fs.readFileSync(filePath);
        const data = await pdfParse(dataBuffer);
        console.log('PDF extraction successful, text length:', data.text.length);
        return data.text;
    }

    async extractFromWord(filePath) {
        console.log('Extracting from Word document...');
        const result = await mammoth.extractRawText({ path: filePath });
        console.log('Word extraction successful, text length:', result.value.length);
        return result.value;
    }

    async structureWithGemini(extractedText) {
        try {
            console.log('Processing CV with Gemini AI...');
            console.log('Input text length:', extractedText.length);
            
            // Limit text length to avoid API limits
            const maxLength = 30000; // Gemini 1.5 Flash limit
            const textToProcess = extractedText.length > maxLength 
                ? extractedText.substring(0, maxLength) + '\n\n[Text truncated due to length]'
                : extractedText;
            
            console.log('Processing text length:', textToProcess.length);
            
            // Step 1: Extract basic structured data
            const basicData = await this.extractBasicStructure(textToProcess);
            console.log('Basic structure extracted for:', basicData.personalInfo?.name || 'Unknown');

            // Step 2: Generate enhanced content for each section
            const enhancedData = await this.enhanceWithAI(basicData, textToProcess);
            console.log('Enhanced data generated');

            // Step 3: Validate and clean the final data
            const finalData = this.validateAndCleanData(enhancedData);
            
            return finalData;
            
        } catch (error) {
            console.error('Gemini processing error:', error);
            
            // Provide more specific error messages
            if (error.message.includes('API_KEY_INVALID')) {
                throw new Error('Invalid Gemini API key. Please check your GEMINI_API_KEY in the .env file.');
            } else if (error.message.includes('QUOTA_EXCEEDED')) {
                throw new Error('Gemini API quota exceeded. Please check your API usage limits.');
            } else if (error.message.includes('PERMISSION_DENIED')) {
                throw new Error('Permission denied for Gemini API. Please verify your API key permissions.');
            } else {
                throw new Error('Failed to process CV with AI: ' + error.message);
            }
        }
    }

    async extractBasicStructure(extractedText) {
        const prompt = `
You are a professional CV/Resume parser. Extract and structure the CV content into JSON format.

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON (no markdown, no explanations)
- Escape ALL special characters in strings (\\n, \\", \\t, etc.)
- Use \\n for line breaks in descriptions
- Replace bullets (•) with "- " in text
- NO trailing commas
- Start with { and end with }

Extract these fields:
- personalInfo: {name, email, phone, location}
- experience: [{title, company, location, startDate, endDate, description, achievements: []}]
- education: [{degree, institution, location, graduationDate, gpa, achievements: []}]
- skills: {technical: [], soft: [], languages: []}
- projects: [{name, description, technologies: [], url}]
- certifications: [{name, issuer, date, url}]

Data Guidelines:
- Use "Present" for current positions
- Format dates as "YYYY-MM" or "YYYY"
- Convert bullet points to numbered or dashed lists in descriptions
- Keep descriptions factual and properly escaped
- Extract specific achievements as separate array items
- Use empty string "" or empty array [] for missing data
- Do NOT include summary or aboutMe fields

CV Content:
${extractedText}

Return properly escaped JSON:`;

        console.log('Sending basic structure request to Gemini...');
        console.log('Prompt length:', prompt.length);

        try {
            const result = await this.model.generateContent(prompt);
            const response = await result.response;
            const text = response.text();

            console.log('Received response from Gemini, length:', text.length);

            // Clean the response - remove markdown code blocks if present
            let cleanedText = text.trim();
            
            // Remove ```json and ``` if present
            if (cleanedText.startsWith('```json')) {
                cleanedText = cleanedText.replace(/^```json\s*/, '').replace(/\s*```$/, '');
            } else if (cleanedText.startsWith('```')) {
                cleanedText = cleanedText.replace(/^```\s*/, '').replace(/\s*```$/, '');
            }
            
            // Remove any leading/trailing whitespace
            cleanedText = cleanedText.trim();
            
            // Fix common JSON issues from Gemini
            cleanedText = this.sanitizeJsonResponse(cleanedText);
            
            console.log('Cleaned response length:', cleanedText.length);
            console.log('Cleaned response starts with:', cleanedText.substring(0, 100) + '...');

            try {
                const parsedData = JSON.parse(cleanedText);
                console.log('✅ Successfully parsed JSON from Gemini');
                return parsedData;
            } catch (parseError) {
                console.error('❌ Failed to parse JSON from Gemini:', parseError);
                console.log('Error at position:', parseError.message);
                console.log('Problematic area:', cleanedText.substring(Math.max(0, 4390-50), 4450));
                
                // Try to fix and parse again
                const fixedText = this.fixJsonErrors(cleanedText);
                try {
                    const parsedData = JSON.parse(fixedText);
                    console.log('✅ Successfully parsed JSON after fixing');
                    return parsedData;
                } catch (secondError) {
                    console.error('❌ Still failed after fixing:', secondError);
                    throw new Error('Invalid JSON response from AI');
                }
            }
        } catch (apiError) {
            console.error('❌ Gemini API call failed:', apiError);
            throw apiError;
        }
    }

    sanitizeJsonResponse(jsonString) {
        // Fix common JSON issues that Gemini might produce
        let fixed = jsonString;
        
        // Replace problematic characters in strings
        fixed = fixed.replace(/\n/g, '\\n');           // Fix unescaped newlines
        fixed = fixed.replace(/\r/g, '\\r');           // Fix unescaped carriage returns
        fixed = fixed.replace(/\t/g, '\\t');           // Fix unescaped tabs
        fixed = fixed.replace(/\\/g, '\\\\');          // Fix unescaped backslashes (but avoid double-escaping)
        fixed = fixed.replace(/\\\\n/g, '\\n');        // Fix double-escaped newlines
        fixed = fixed.replace(/\\\\r/g, '\\r');        // Fix double-escaped carriage returns
        fixed = fixed.replace(/\\\\t/g, '\\t');        // Fix double-escaped tabs
        
        // Remove or replace problematic Unicode characters
        fixed = fixed.replace(/•/g, '\\u2022');        // Bullet points
        fixed = fixed.replace(/–/g, '\\u2013');        // En dash
        fixed = fixed.replace(/—/g, '\\u2014');        // Em dash
        fixed = fixed.replace(/'/g, "\\'");            // Smart quotes
        fixed = fixed.replace(/'/g, "\\'");            // Smart quotes
        fixed = fixed.replace(/"/g, '\\"');            // Smart quotes
        fixed = fixed.replace(/"/g, '\\"');            // Smart quotes
        
        return fixed;
    }

    fixJsonErrors(jsonString) {
        // More aggressive JSON fixing
        let fixed = jsonString;
        
        // Try to find and fix the specific error area
        // Replace unescaped quotes in string values
        fixed = fixed.replace(/"([^"]*)"([^"]*)"([^"]*)"/g, (match, p1, p2, p3) => {
            return `"${p1}\\"${p2}\\"${p3}"`;
        });
        
        // Remove trailing commas
        fixed = fixed.replace(/,(\s*[}\]])/g, '$1');
        
        // Fix incomplete strings at the end
        if (fixed.match(/[^\\]"[^"]*$/)) {
            fixed += '"';
        }
        
        return fixed;
    }

    async enhanceWithAI(basicData, originalText) {
        console.log('Enhancing data with AI for each section...');
        
        try {
            // Generate professional summary
            const summary = await this.generateSummary(basicData, originalText);
            
            // Generate about me section
            const aboutMe = await this.generateAboutMe(basicData, originalText);
            
            // Enhance experience descriptions (simplified for now to avoid API issues)
            const enhancedExperience = basicData.experience || [];
            
            // Enhance education descriptions (simplified for now)
            const enhancedEducation = basicData.education || [];
            
            // Enhance project descriptions (simplified for now)
            const enhancedProjects = basicData.projects || [];
            
            // Enhance skills organization
            const enhancedSkills = await this.enhanceSkills(basicData.skills, originalText);

            return {
                ...basicData,
                personalInfo: {
                    ...basicData.personalInfo,
                    summary: summary,
                    aboutMe: aboutMe
                },
                experience: enhancedExperience,
                education: enhancedEducation,
                projects: enhancedProjects,
                skills: enhancedSkills
            };
        } catch (error) {
            console.error('Enhancement error:', error);
            // Return basic data if enhancement fails
            return {
                ...basicData,
                personalInfo: {
                    ...basicData.personalInfo,
                    summary: this.generateFallbackSummary(basicData),
                    aboutMe: this.generateFallbackAboutMe(basicData)
                }
            };
        }
    }

    async generateSummary(cvData, originalText) {
        console.log('Generating professional summary...');
        
        const prompt = `
Based on this CV data, create a compelling professional summary (2-3 sentences) for any profession.

Personal Info: ${JSON.stringify(cvData.personalInfo || {})}
Experience: ${JSON.stringify((cvData.experience || []).slice(0, 2))}
Skills: ${JSON.stringify(cvData.skills || {})}
Education: ${JSON.stringify((cvData.education || []).slice(0, 1))}

Requirements:
- 2-3 sentences maximum
- Work for ANY profession (tech, healthcare, finance, education, etc.)
- Highlight years of experience if determinable
- Mention key skills and expertise areas relevant to their field
- Sound professional and compelling
- Be specific to this person's actual background and industry
- Use industry-appropriate language

Return ONLY the summary text, no formatting or explanations.
`;

        try {
            const result = await this.model.generateContent(prompt);
            const response = await result.response;
            const summary = response.text().trim();
            console.log('✅ Summary generated successfully');
            return summary;
        } catch (error) {
            console.error('Summary generation failed:', error);
            return this.generateFallbackSummary(cvData);
        }
    }

    async generateAboutMe(cvData, originalText) {
        console.log('Generating About Me section...');
        
        const prompt = `
Create a compelling "About Me" section (3-4 sentences) for this person's professional landing page.
This should work for ANY profession and industry.

Personal Info: ${JSON.stringify(cvData.personalInfo || {})}
Experience: ${JSON.stringify((cvData.experience || []).slice(0, 2))}
Skills: ${JSON.stringify(cvData.skills || {})}
Education: ${JSON.stringify((cvData.education || []).slice(0, 1))}

Requirements:
- 3-4 sentences
- Write in first person ("I am...")
- Tell their professional journey/story appropriate to their industry
- Highlight what makes them unique in their field
- Show personality while staying professional
- Work for any profession (tech, healthcare, finance, marketing, etc.)
- Use industry-appropriate language and tone
- Be specific to this person's actual background

Return ONLY the about me text, no formatting or explanations.
`;

        try {
            const result = await this.model.generateContent(prompt);
            const response = await result.response;
            const aboutMe = response.text().trim();
            console.log('✅ About Me generated successfully');
            return aboutMe;
        } catch (error) {
            console.error('About Me generation failed:', error);
            return this.generateFallbackAboutMe(cvData);
        }
    }

    async enhanceSkills(skills, originalText) {
        console.log('Organizing and enhancing skills...');
        
        const prompt = `
Organize and enhance the skills section based on the CV data.
Categorize skills appropriately and add any missing ones from the text.

Current Skills: ${JSON.stringify(skills || {})}

Requirements:
- Categorize skills into technical, soft, and languages
- Add any skills mentioned in CV but missing from current data
- Remove duplicates
- Order by relevance/importance
- Ensure technical skills are specific technologies/tools
- Ensure soft skills are professional competencies

CRITICAL: Return ONLY valid JSON. No markdown blocks. No explanations.
Start with { and end with } only.

Example format:
{"technical": ["Python", "JavaScript"], "soft": ["Leadership"], "languages": ["English"]}
`;

        try {
            const result = await this.model.generateContent(prompt);
            const response = await result.response;
            const rawText = response.text().trim();
            
            // Clean response - remove markdown if present
            let cleanedText = rawText;
            if (cleanedText.startsWith('```json')) {
                cleanedText = cleanedText.replace(/^```json\s*/, '').replace(/\s*```$/, '');
            } else if (cleanedText.startsWith('```')) {
                cleanedText = cleanedText.replace(/^```\s*/, '').replace(/\s*```$/, '');
            }
            cleanedText = cleanedText.trim();
            
            const enhancedSkills = JSON.parse(cleanedText);
            console.log('✅ Skills enhanced successfully');
            
            return {
                technical: Array.isArray(enhancedSkills.technical) ? enhancedSkills.technical : skills?.technical || [],
                soft: Array.isArray(enhancedSkills.soft) ? enhancedSkills.soft : skills?.soft || [],
                languages: Array.isArray(enhancedSkills.languages) ? enhancedSkills.languages : skills?.languages || []
            };
        } catch (error) {
            console.error('Skills enhancement failed:', error);
            return skills || { technical: [], soft: [], languages: [] };
        }
    }

    generateFallbackSummary(cvData) {
        const currentJob = cvData.experience?.[0];
        const skills = cvData.skills?.technical?.slice(0, 3) || cvData.skills?.soft?.slice(0, 3) || [];
        
        if (currentJob) {
            return `Experienced ${currentJob.title} with proven expertise in ${skills.join(', ') || 'their field'}. Strong professional with a track record of delivering results at ${currentJob.company || 'leading organizations'}.`;
        }
        
        const education = cvData.education?.[0];
        if (education) {
            return `${education.degree} graduate with expertise in ${skills.join(', ') || 'their field'} and strong ${cvData.skills?.soft?.slice(0, 2).join(' and ') || 'professional'} skills.`;
        }
        
        return `Professional with expertise in ${skills.join(', ') || 'various fields'} and strong ${cvData.skills?.soft?.slice(0, 2).join(' and ') || 'interpersonal'} skills.`;
    }

    generateFallbackAboutMe(cvData) {
        const currentJob = cvData.experience?.[0];
        const yearsOfExperience = this.calculateYearsOfExperience(cvData.experience);
        const education = cvData.education?.[0];
        const skills = cvData.skills?.technical?.slice(0, 2) || cvData.skills?.soft?.slice(0, 2) || [];
        
        if (currentJob) {
            return `I am a passionate ${currentJob.title} with ${yearsOfExperience}+ years of experience in ${skills.join(' and ') || 'my field'}. I thrive in professional environments where I can leverage my expertise in ${skills.concat(cvData.skills?.soft?.slice(0, 2) || []).slice(0, 3).join(', ') || 'various areas'} to drive meaningful results. I am committed to continuous learning and excellence in my profession.`;
        }
        
        if (education) {
            return `I am a dedicated professional with a strong foundation in ${education.degree}. My expertise in ${skills.join(' and ') || 'various areas'} allows me to contribute effectively to ${education.degree.includes('Engineering') ? 'technical projects' : education.degree.includes('Business') ? 'business initiatives' : 'professional endeavors'}. I am passionate about applying my knowledge to create positive impact in my field.`;
        }
        
        return `I am a committed professional with expertise in ${skills.join(' and ') || 'various areas'}. I bring strong ${cvData.skills?.soft?.slice(0, 2).join(' and ') || 'problem-solving and communication'} skills to every project I undertake. I am dedicated to continuous improvement and delivering exceptional results.`;
    }

    calculateYearsOfExperience(experience) {
        if (!experience || experience.length === 0) return 0;
        
        let totalMonths = 0;
        experience.forEach(exp => {
            const startDate = new Date(exp.startDate + '-01');
            const endDate = exp.endDate?.toLowerCase() === 'present' ? new Date() : new Date(exp.endDate + '-01');
            
            if (!isNaN(startDate.getTime()) && !isNaN(endDate.getTime())) {
                const months = (endDate.getFullYear() - startDate.getFullYear()) * 12 + 
                              (endDate.getMonth() - startDate.getMonth());
                totalMonths += months;
            }
        });
        
        return Math.floor(totalMonths / 12);
    }

    validateAndCleanData(data) {
        console.log('Validating and cleaning final data...');
        
        // Ensure all required fields exist with proper structure
        const cleaned = {
            personalInfo: {
                name: data.personalInfo?.name || '',
                email: data.personalInfo?.email || '',
                phone: data.personalInfo?.phone || '',
                location: data.personalInfo?.location || '',
                summary: data.personalInfo?.summary || '',
                aboutMe: data.personalInfo?.aboutMe || ''
            },
            experience: Array.isArray(data.experience) ? data.experience.map(exp => ({
                title: exp.title || '',
                company: exp.company || '',
                location: exp.location || '',
                startDate: exp.startDate || '',
                endDate: exp.endDate || '',
                description: exp.description || '',
                achievements: Array.isArray(exp.achievements) ? exp.achievements.filter(a => a && a.trim()) : []
            })).filter(exp => exp.title && exp.company) : [],
            education: Array.isArray(data.education) ? data.education.map(edu => ({
                degree: edu.degree || '',
                institution: edu.institution || '',
                location: edu.location || '',
                graduationDate: edu.graduationDate || '',
                gpa: edu.gpa || '',
                achievements: Array.isArray(edu.achievements) ? edu.achievements.filter(a => a && a.trim()) : []
            })).filter(edu => edu.degree && edu.institution) : [],
            skills: {
                technical: Array.isArray(data.skills?.technical) ? 
                    data.skills.technical.filter(s => s && s.trim()).slice(0, 15) : [],
                soft: Array.isArray(data.skills?.soft) ? 
                    data.skills.soft.filter(s => s && s.trim()).slice(0, 10) : [],
                languages: Array.isArray(data.skills?.languages) ? 
                    data.skills.languages.filter(s => s && s.trim()).slice(0, 5) : []
            },
            projects: Array.isArray(data.projects) ? data.projects.map(proj => ({
                name: proj.name || '',
                description: proj.description || '',
                technologies: Array.isArray(proj.technologies) ? 
                    proj.technologies.filter(t => t && t.trim()) : [],
                url: proj.url || ''
            })).filter(proj => proj.name && proj.description) : [],
            certifications: Array.isArray(data.certifications) ? data.certifications.map(cert => ({
                name: cert.name || '',
                issuer: cert.issuer || '',
                date: cert.date || '',
                url: cert.url || ''
            })).filter(cert => cert.name && cert.issuer) : []
        };

        // Ensure we have at least some content
        if (!cleaned.personalInfo.name) {
            throw new Error('Unable to extract name from CV');
        }

        if (cleaned.experience.length === 0 && cleaned.education.length === 0) {
            throw new Error('Unable to extract experience or education from CV');
        }

        console.log('✅ Data validation completed successfully for:', cleaned.personalInfo.name);
        return cleaned;
    }
}

module.exports = CVParser;

[END OF FILE: lib\cv-parser.js]

--------------------------------------------------------------------------------
FILE: lib\template-processor.js
SIZE: 10137 bytes (9.9 KB)
--------------------------------------------------------------------------------
// File: lib/template-processor.js
const fs = require('fs');
const path = require('path');

class TemplateProcessor {
    constructor() {
        this.templateDir = path.join(__dirname, '../templates/professional');
    }

    async generateLandingPage(cvData, outputDir) {
        try {
            console.log('Generating landing page for:', cvData.personalInfo.name);

            // Validate CV data has required content
            this.validateCVData(cvData);

            // Create output directory if it doesn't exist
            if (!fs.existsSync(outputDir)) {
                fs.mkdirSync(outputDir, { recursive: true });
            }

            // Copy template files
            await this.copyTemplateFiles(outputDir);

            // Generate data.js with actual CV data
            await this.generateDataFile(cvData, outputDir);

            // Process HTML template with real data
            await this.processHTMLTemplate(cvData, outputDir);

            console.log('Landing page generated successfully in:', outputDir);

            return {
                success: true,
                outputDir: outputDir,
                files: ['index.html', 'styles.css', 'script.js', 'data.js', 'README.md']
            };

        } catch (error) {
            console.error('Template processing error:', error);
            throw new Error('Failed to generate landing page: ' + error.message);
        }
    }

    validateCVData(cvData) {
        if (!cvData.personalInfo?.name) {
            throw new Error('CV data missing personal name');
        }
        
        if (!cvData.personalInfo?.summary) {
            throw new Error('CV data missing summary');
        }

        if (!cvData.personalInfo?.aboutMe) {
            throw new Error('CV data missing about me section');
        }

        // Now we have experience and skills, so validate them too
        console.log('CV data validation passed for:', cvData.personalInfo.name);
        console.log('Data includes: name, summary, aboutMe, experience, skills');
    }

    async copyTemplateFiles(outputDir) {
        const filesToCopy = [
            'styles.css',
            'script.js',
            'README.md'
        ];

        for (const file of filesToCopy) {
            const sourcePath = path.join(this.templateDir, file);
            const destPath = path.join(outputDir, file);

            if (fs.existsSync(sourcePath)) {
                fs.copyFileSync(sourcePath, destPath);
                console.log(`Copied ${file}`);
            } else {
                console.warn(`Template file not found: ${file}`);
            }
        }
    }

    async generateDataFile(cvData, outputDir) {
        console.log('Generating data.js with real CV data...');
        
        // Use the actual CV data processed by AI
        const dataContent = `// Generated CV Data for ${cvData.personalInfo.name}
// Generated on: ${new Date().toISOString()}
const cvData = ${JSON.stringify(cvData, null, 2)};
`;

        const dataPath = path.join(outputDir, 'data.js');
        fs.writeFileSync(dataPath, dataContent, 'utf8');
        console.log('Generated data.js with real CV data');
    }

    async processHTMLTemplate(cvData, outputDir) {
        console.log('Processing HTML template with real data...');
        
        const templatePath = path.join(this.templateDir, 'index.html');
        const outputPath = path.join(outputDir, 'index.html');

        if (!fs.existsSync(templatePath)) {
            throw new Error('HTML template not found');
        }

        let htmlContent = fs.readFileSync(templatePath, 'utf8');

        // Replace placeholders with real CV data
        const replacements = this.createReplacements(cvData);

        for (const [placeholder, value] of Object.entries(replacements)) {
            const regex = new RegExp(`{{${placeholder}}}`, 'g');
            htmlContent = htmlContent.replace(regex, value);
        }

        // Handle profile picture if present
        if (cvData.personalInfo.profilePicture) {
            console.log('Including profile picture in landing page');
            
            // Replace hero avatar with actual image
            htmlContent = htmlContent.replace(
                /<div id="hero-avatar"[^>]*class="[^"]*"[^>]*>[\s\S]*?<\/div>/,
                `<div id="hero-avatar" class="hero-avatar w-48 h-48 rounded-full overflow-hidden border-4 border-white/20">
                    <img src="${cvData.personalInfo.profilePicture}" alt="${cvData.personalInfo.name}" class="w-full h-full object-cover">
                </div>`
            );
        }

        // Update page title with real name
        htmlContent = htmlContent.replace(
            /<title>.*?<\/title>/,
            `<title>${cvData.personalInfo.name} - Professional Profile</title>`
        );

        // Write processed HTML
        fs.writeFileSync(outputPath, htmlContent, 'utf8');
        console.log('Generated index.html with real data');
    }

    createReplacements(cvData) {
        console.log('Creating replacements with real CV data...');
        
        const personal = cvData.personalInfo;
        
        // For current title, use extracted job title or fallback
        const currentJob = { title: personal.currentTitle || 'Professional' };

        // Get initials from real name
        const initials = personal.name
            .split(' ')
            .map(n => n[0])
            .join('')
            .toUpperCase();

        // Create summary excerpt for meta description
        const summaryExcerpt = personal.summary
            ? personal.summary.substring(0, 150) + (personal.summary.length > 150 ? '...' : '')
            : `${personal.name} - Professional Profile`;

        // Create skills keywords for SEO from real skills
        const allSkills = [
            ...(cvData.skills.technical || []),
            ...(cvData.skills.soft || [])
        ];
        const skillsKeywords = allSkills.length > 0 
            ? allSkills.slice(0, 10).join(', ')
            : `${personal.currentTitle}, Professional, ${personal.location}`.replace(/,\s*,/g, ',').replace(/^,|,$/g, '');

        // Calculate real years of experience if we have experience data
        const yearsExperience = cvData.experience && cvData.experience.length > 0 
            ? this.calculateYearsExperience(cvData.experience) 
            : 3; // Default for cases without experience data
            
        // Calculate real skills count
        const skillsCount = (cvData.skills.technical?.length || 0) + (cvData.skills.soft?.length || 0);
        
        // Default projects count - will be updated when we add projects processor
        const projectsCount = cvData.projects ? cvData.projects.length : 5;

        console.log(`Creating replacements for ${personal.name}:`);
        console.log(`- Current title: ${currentJob.title}`);
        console.log(`- Location: ${personal.location}`);
        console.log(`- Years experience: ${yearsExperience}`);
        console.log(`- Skills count: ${skillsCount}`);
        console.log(`- Has summary: ${!!personal.summary}`);
        console.log(`- Has about me: ${!!personal.aboutMe}`);

        return {
            NAME: this.escapeHtml(personal.name),
            EMAIL: this.escapeHtml(personal.email || ''),
            PHONE: this.escapeHtml(personal.phone || ''),
            LOCATION: this.escapeHtml(personal.location || ''),
            SUMMARY: this.escapeHtml(personal.summary),
            ABOUT_ME: this.escapeHtml(personal.aboutMe || personal.summary),
            CURRENT_TITLE: this.escapeHtml(currentJob.title),
            INITIALS: initials,
            SUMMARY_EXCERPT: this.escapeHtml(summaryExcerpt),
            SKILLS_KEYWORDS: this.escapeHtml(skillsKeywords),
            YEARS_EXPERIENCE: yearsExperience.toString(),
            PROJECTS_COUNT: projectsCount.toString(),
            SKILLS_COUNT: skillsCount.toString(),
            SITE_URL: 'https://your-profile.vercel.app'
        };
    }

    calculateYearsExperience(experience) {
        if (!experience || experience.length === 0) return 0;
        
        let totalMonths = 0;
        experience.forEach(exp => {
            if (!exp.startDate) return;
            
            const startDate = new Date(exp.startDate + '-01');
            const endDate = exp.endDate?.toLowerCase() === 'present' ? new Date() : new Date(exp.endDate + '-01');
            
            if (!isNaN(startDate.getTime()) && !isNaN(endDate.getTime())) {
                const months = (endDate.getFullYear() - startDate.getFullYear()) * 12 + 
                              (endDate.getMonth() - startDate.getMonth());
                totalMonths += Math.max(0, months);
            }
        });
        
        return Math.floor(totalMonths / 12);
    }

    escapeHtml(text) {
        if (!text) return '';

        return text.toString()
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#x27;');
    }

    async generatePreview(cvData) {
        // Generate a temporary preview version with real data
        const tempDir = path.join(__dirname, '../temp/preview');

        if (!fs.existsSync(tempDir)) {
            fs.mkdirSync(tempDir, { recursive: true });
        }

        const result = await this.generateLandingPage(cvData, tempDir);

        return {
            success: true,
            previewDir: tempDir,
            indexPath: path.join(tempDir, 'index.html')
        };
    }

    cleanupTemp() {
        const tempDir = path.join(__dirname, '../temp');
        if (fs.existsSync(tempDir)) {
            fs.rmSync(tempDir, { recursive: true, force: true });
            console.log('Cleaned up temporary files');
        }
    }
}

module.exports = TemplateProcessor;

[END OF FILE: lib\template-processor.js]

--------------------------------------------------------------------------------
FILE: lib\cv-processors\about-me-processor.js
SIZE: 7673 bytes (7.5 KB)
--------------------------------------------------------------------------------
// File: lib/cv-processors/about-me-processor.js
const BaseProcessor = require('./base-processor');

class AboutMeProcessor extends BaseProcessor {
    constructor() {
        super();
    }

    async processText(cleanedText, existingData = {}) {
        console.log('📝 Generating about me content...');
        
        const personalInfo = existingData.personalInfo || {};
        
        // Step 1: Generate professional summary
        const summary = await this.generateSummary(cleanedText, personalInfo);
        
        // Step 2: Generate about me paragraph
        const aboutMe = await this.generateAboutMe(cleanedText, personalInfo);
        
        // Combine the results
        const aboutData = {
            summary: this.cleanValue(summary),
            aboutMe: this.cleanValue(aboutMe)
        };
        
        this.logStats(aboutData, 'generated about content');
        
        return { aboutData };
    }

    async generateSummary(cvText, personalInfo) {
        const name = personalInfo.name || 'Professional';
        const title = personalInfo.currentTitle || 'Professional';
        
        const prompt = `
Create a professional summary (2-3 sentences) for ${name} based on their CV.

Person: ${name}
Current Title: ${title}

CV Content:
${cvText.substring(0, 3000)}

Requirements:
- 2-3 sentences maximum
- Professional and compelling tone
- Highlight key strengths and experience
- Mention years of experience if you can determine it
- Adapt to their actual profession and industry
- Make it specific to their background

Professional Summary:`;

        try {
            const response = await this.generateSimpleText(prompt, 'summary generation');
            
            if (response && response.length > 20 && response.length < 500) {
                console.log(`✅ Summary generated (${response.length} chars)`);
                return response;
            } else {
                throw new Error('Invalid summary length');
            }
            
        } catch (error) {
            console.error('❌ Summary generation failed:', error.message);
            return this.getFallbackSummary(personalInfo);
        }
    }

    async generateAboutMe(cvText, personalInfo) {
        const name = personalInfo.name || 'Professional';
        const title = personalInfo.currentTitle || 'Professional';
        
        const prompt = `
Create a compelling "About Me" section (3-4 sentences) for ${name}'s professional landing page.

Person: ${name}
Current Title: ${title}

CV Content:
${cvText.substring(0, 3000)}

Requirements:
- 3-4 sentences
- Write in first person ("I am...")
- Tell their professional story and journey
- Show personality while staying professional
- Highlight what makes them unique
- Adapt to their actual industry and background
- Sound engaging and personal

About Me:`;

        try {
            const response = await this.generateSimpleText(prompt, 'about me generation');
            
            if (response && response.length > 50 && response.length < 800) {
                console.log(`✅ About me generated (${response.length} chars)`);
                return response;
            } else {
                throw new Error('Invalid about me length');
            }
            
        } catch (error) {
            console.error('❌ About me generation failed:', error.message);
            return this.getFallbackAboutMe(personalInfo);
        }
    }

    getFallbackSummary(personalInfo) {
        const title = personalInfo.currentTitle || 'Professional';
        const name = personalInfo.name || 'Professional';
        
        console.log('🔄 Using fallback summary');
        
        if (title.toLowerCase().includes('engineer') || title.toLowerCase().includes('developer')) {
            return `Experienced ${title} with a strong background in technology and software development. Passionate about creating innovative solutions and delivering high-quality results in dynamic environments.`;
        } else if (title.toLowerCase().includes('manager') || title.toLowerCase().includes('lead')) {
            return `Accomplished ${title} with proven expertise in team leadership and strategic planning. Dedicated to driving organizational success through effective management and innovative problem-solving.`;
        } else if (title.toLowerCase().includes('analyst') || title.toLowerCase().includes('data')) {
            return `Skilled ${title} with expertise in data analysis and strategic insights. Committed to transforming complex data into actionable business intelligence and driving informed decision-making.`;
        } else {
            return `Dedicated ${title} with a strong track record of professional excellence. Passionate about delivering outstanding results and contributing meaningfully to organizational objectives.`;
        }
    }

    getFallbackAboutMe(personalInfo) {
        const title = personalInfo.currentTitle || 'professional';
        const name = personalInfo.name || 'professional';
        
        console.log('🔄 Using fallback about me');
        
        if (title.toLowerCase().includes('engineer') || title.toLowerCase().includes('developer')) {
            return `I am a passionate ${title} who thrives on solving complex technical challenges and building innovative solutions. My journey in technology has been driven by curiosity and a commitment to continuous learning. I enjoy collaborating with diverse teams to create impactful software that makes a difference. When I'm not coding, I stay current with emerging technologies and contribute to the tech community.`;
        } else if (title.toLowerCase().includes('manager') || title.toLowerCase().includes('lead')) {
            return `I am an experienced ${title} who believes in empowering teams to achieve their full potential. My approach combines strategic thinking with hands-on leadership to drive results and foster innovation. I'm passionate about building collaborative environments where people can grow and excel. My goal is to create positive impact through effective leadership and meaningful professional relationships.`;
        } else if (title.toLowerCase().includes('analyst') || title.toLowerCase().includes('data')) {
            return `I am a detail-oriented ${title} who enjoys uncovering insights hidden within complex datasets. My passion lies in transforming raw data into compelling stories that drive business decisions. I thrive in environments where analytical thinking meets creative problem-solving. I'm committed to using data as a tool for positive change and strategic advancement.`;
        } else {
            return `I am a dedicated ${title} who brings enthusiasm and expertise to every project I undertake. My career has been shaped by a commitment to excellence and continuous improvement. I believe in the power of collaboration and innovative thinking to overcome challenges and create meaningful outcomes. I'm passionate about making a positive impact in my field and contributing to organizational success.`;
        }
    }

    async getFallbackData(existingData = {}) {
        const personalInfo = existingData.personalInfo || {};
        
        console.log('🔄 Generating fallback about data...');
        
        return {
            aboutData: {
                summary: this.getFallbackSummary(personalInfo),
                aboutMe: this.getFallbackAboutMe(personalInfo)
            }
        };
    }
}

module.exports = AboutMeProcessor;

[END OF FILE: lib\cv-processors\about-me-processor.js]

--------------------------------------------------------------------------------
FILE: lib\cv-processors\base-processor.js
SIZE: 4304 bytes (4.2 KB)
--------------------------------------------------------------------------------
// File: lib/cv-processors/base-processor.js
const GeminiClient = require('../utils/gemini-client');
const TextCleaner = require('../utils/text-cleaner');

class BaseProcessor {
    constructor() {
        this.geminiClient = new GeminiClient();
        this.processorName = this.constructor.name;
    }

    async process(cvText, existingData = {}) {
        try {
            console.log(`\n🔄 Starting ${this.processorName}...`);
            
            // Clean the text for processing
            const cleanedText = TextCleaner.prepareForAI(cvText);
            
            // Process the text (implemented by subclasses)
            const result = await this.processText(cleanedText, existingData);
            
            console.log(`✅ ${this.processorName} completed successfully`);
            return result;
            
        } catch (error) {
            console.error(`❌ ${this.processorName} failed:`, error.message);
            
            // Return fallback data
            const fallback = await this.getFallbackData(existingData);
            console.log(`🔄 Using fallback data for ${this.processorName}`);
            return fallback;
        }
    }

    // Abstract method - must be implemented by subclasses
    async processText(cleanedText, existingData) {
        throw new Error(`processText method must be implemented by ${this.processorName}`);
    }

    // Abstract method - must be implemented by subclasses
    async getFallbackData(existingData) {
        throw new Error(`getFallbackData method must be implemented by ${this.processorName}`);
    }

    // Utility method for simple AI text generation
    async generateSimpleText(prompt, description) {
        return await this.geminiClient.generateSimpleText(prompt, 
            `${this.processorName} - ${description}`);
    }

    // Utility method for extracting structured data
    async extractData(prompt, description) {
        return await this.geminiClient.extractSimpleData(prompt, 
            `${this.processorName} - ${description}`);
    }

    // Utility method to parse key-value responses
    parseKeyValueResponse(response) {
        const data = {};
        const lines = response.split('\n');
        
        lines.forEach(line => {
            const trimmed = line.trim();
            if (trimmed.includes('=')) {
                const [key, ...valueParts] = trimmed.split('=');
                const value = valueParts.join('=').trim();
                
                if (key && key.trim()) {
                    data[key.trim().toLowerCase()] = value || '';
                }
            }
        });
        
        return data;
    }

    // Utility method to validate required fields
    validateRequiredFields(data, requiredFields) {
        const missing = [];
        
        requiredFields.forEach(field => {
            if (!data[field] || data[field].trim() === '') {
                missing.push(field);
            }
        });
        
        if (missing.length > 0) {
            console.warn(`⚠️  ${this.processorName} - Missing required fields: ${missing.join(', ')}`);
        }
        
        return missing.length === 0;
    }

    // Utility method to clean extracted values
    cleanValue(value) {
        if (!value || typeof value !== 'string') {
            return '';
        }
        
        return value
            .trim()
            .replace(/^["']|["']$/g, '') // Remove surrounding quotes
            .replace(/\s+/g, ' ') // Normalize whitespace
            .trim();
    }

    // Utility method to log processing stats
    logStats(data, description) {
        const stats = {};
        
        Object.keys(data).forEach(key => {
            const value = data[key];
            if (typeof value === 'string') {
                stats[key] = value ? `${value.length} chars` : 'empty';
            } else if (Array.isArray(value)) {
                stats[key] = `${value.length} items`;
            } else {
                stats[key] = typeof value;
            }
        });
        
        console.log(`📊 ${this.processorName} - ${description}:`, stats);
    }
}

module.exports = BaseProcessor;

[END OF FILE: lib\cv-processors\base-processor.js]

--------------------------------------------------------------------------------
FILE: lib\cv-processors\education-processor.js
SIZE: 7582 bytes (7.4 KB)
--------------------------------------------------------------------------------
// File: lib/cv-processors/education-processor.js
const BaseProcessor = require('./base-processor');

class EducationProcessor extends BaseProcessor {
    constructor() {
        super();
    }

    async processText(cleanedText, existingData = {}) {
        console.log('Extracting education background...');
        
        // Step 1: Extract education data using AI
        const educationList = await this.extractEducationData(cleanedText);
        
        // Step 2: Enhance each education entry with better descriptions
        const enhancedEducation = await this.enhanceEducationEntries(educationList, cleanedText);
        
        console.log(`Processed ${enhancedEducation.length} education entries`);
        this.logStats({ education: enhancedEducation }, 'extracted education');
        
        return { education: enhancedEducation };
    }

    async extractEducationData(cvText) {
        const prompt = `
Extract ALL education from this CV for ANY profession. Return each degree/education in this EXACT format:

Degree/Qualification | Institution | Location | Graduation Date | GPA/Grade | Description

Rules:
- One education entry per line
- Use | as separator between fields
- For dates: use YYYY or YYYY-MM format
- Include degrees, diplomas, certificates, training, courses
- GPA/Grade can be empty if not mentioned
- Location can be empty if not mentioned
- Description should be 1-2 sentences about the program/achievements
- Works for ALL education types: university degrees, vocational training, certifications, courses
- List from most recent to oldest

Examples for different professions:
- Bachelor of Science in Computer Science | MIT | Boston, MA | 2020 | 3.8 | Focused on software engineering and algorithms
- Culinary Arts Diploma | Le Cordon Bleu | Paris, France | 2019 | | Professional cooking program with French cuisine specialization
- Registered Nurse Certification | Community College | Chicago, IL | 2021 | | Nursing program with clinical training in patient care
- Teaching Certificate | State University | Austin, TX | 2018 | | Education program with classroom management training

CV Text:
${cvText}

Education (format: Degree | Institution | Location | Date | GPA | Description):`;

        const response = await this.generateSimpleText(prompt, 'education extraction');
        
        if (!response || response.trim().length === 0) {
            throw new Error('No education data could be extracted from CV');
        }
        
        return this.parseEducationResponse(response);
    }

    parseEducationResponse(response) {
        const educationEntries = [];
        const lines = response.split('\n').filter(line => line.trim().length > 0);
        
        lines.forEach((line, index) => {
            const parts = line.split('|').map(part => part.trim());
            
            if (parts.length >= 4) {
                const education = {
                    degree: this.cleanValue(parts[0]),
                    institution: this.cleanValue(parts[1]),
                    location: this.cleanValue(parts[2]),
                    graduationDate: this.cleanValue(parts[3]),
                    gpa: this.cleanValue(parts[4] || ''),
                    description: this.cleanValue(parts[5] || ''),
                    achievements: []
                };
                
                // Validate required fields
                if (education.degree && education.institution) {
                    educationEntries.push(education);
                    console.log(`Parsed education ${index + 1}: ${education.degree} from ${education.institution}`);
                } else {
                    console.warn(`Skipped invalid education entry: ${line}`);
                }
            }
        });
        
        if (educationEntries.length === 0) {
            throw new Error('No valid education entries could be parsed');
        }
        
        console.log(`Successfully parsed ${educationEntries.length} education entries`);
        return educationEntries;
    }

    async enhanceEducationEntries(educationList, cvText) {
        const enhancedEducation = [];
        
        for (let i = 0; i < educationList.length; i++) {
            const education = educationList[i];
            console.log(`Enhancing education ${i + 1}: ${education.degree} from ${education.institution}`);
            
            try {
                const enhanced = await this.enhanceSingleEducation(education, cvText);
                enhancedEducation.push(enhanced);
            } catch (error) {
                console.error(`Failed to enhance education ${education.degree}: ${error.message}`);
                // Keep original education if enhancement fails
                enhancedEducation.push(education);
            }
        }
        
        return enhancedEducation;
    }

    async enhanceSingleEducation(education, cvText) {
        const prompt = `
Enhance this education entry by improving the description and extracting achievements.

Education: ${education.degree} from ${education.institution}
Current Description: ${education.description}
Graduation: ${education.graduationDate}
GPA: ${education.gpa}

Full CV Context:
${cvText.substring(0, 4000)}

REQUIREMENTS:
1. Improve description (2-3 sentences max) - make it more compelling
2. Extract 2-4 specific academic achievements if mentioned in CV
3. Include relevant coursework, honors, activities, projects if mentioned
4. Stay factual but make it engaging
5. Focus on what makes this education valuable

Return in this format:
DESCRIPTION: [Enhanced description here]
ACHIEVEMENTS:
- [Achievement 1]
- [Achievement 2]
- [Achievement 3]
- [Achievement 4]

Enhanced education:`;

        const response = await this.generateSimpleText(prompt, `education enhancement for ${education.degree}`);
        
        return this.parseEnhancedEducationResponse(response, education);
    }

    parseEnhancedEducationResponse(response, originalEducation) {
        const lines = response.split('\n').map(line => line.trim()).filter(line => line.length > 0);
        
        let description = originalEducation.description;
        const achievements = [];
        
        let inAchievements = false;
        
        lines.forEach(line => {
            if (line.startsWith('DESCRIPTION:')) {
                description = this.cleanValue(line.replace('DESCRIPTION:', ''));
            } else if (line.startsWith('ACHIEVEMENTS:')) {
                inAchievements = true;
            } else if (inAchievements && line.startsWith('-')) {
                const achievement = this.cleanValue(line.substring(1));
                if (achievement && achievement.length > 5) {
                    achievements.push(achievement);
                }
            }
        });
        
        // Validate enhanced content
        if (!description || description.length < 10) {
            console.warn(`Enhancement failed for ${originalEducation.degree}, using original description`);
            description = originalEducation.description;
        }
        
        return {
            ...originalEducation,
            description: description,
            achievements: achievements
        };
    }

    async getFallbackData(existingData = {}) {
        throw new Error('Education extraction failed - no fallback available');
    }
}

module.exports = EducationProcessor;

[END OF FILE: lib\cv-processors\education-processor.js]

--------------------------------------------------------------------------------
FILE: lib\cv-processors\experience-processor.js
SIZE: 6477 bytes (6.3 KB)
--------------------------------------------------------------------------------
// File: lib/cv-processors/experience-processor.js
const BaseProcessor = require('./base-processor');

class ExperienceProcessor extends BaseProcessor {
    constructor() {
        super();
    }

    async processText(cleanedText, existingData = {}) {
        console.log('Extracting work experience...');
        
        // Step 1: Extract experience data using AI
        const experienceList = await this.extractExperienceData(cleanedText);
        
        // Step 2: Enhance each experience entry with better descriptions
        const enhancedExperience = await this.enhanceExperienceEntries(experienceList, cleanedText);
        
        console.log(`Processed ${enhancedExperience.length} experience entries`);
        this.logStats({ experience: enhancedExperience }, 'extracted experience');
        
        return { experience: enhancedExperience };
    }

    async extractExperienceData(cvText) {
        const prompt = `
Extract ALL work experience from this CV. Return each job in this EXACT format:

Job Title | Company Name | Location | Start Date | End Date | Description

Rules:
- One job per line
- Use | as separator between fields
- For dates: use YYYY-MM format or just YYYY if month unknown
- Use "Present" for current positions
- Location can be empty if not mentioned
- Description should be 1-2 sentences from the CV
- Do NOT add extra information not in the CV
- List jobs from most recent to oldest

CV Text:
${cvText}

Work Experience (format: Title | Company | Location | Start | End | Description):`;

        const response = await this.generateSimpleText(prompt, 'experience extraction');
        
        if (!response || response.trim().length === 0) {
            throw new Error('No experience data could be extracted from CV');
        }
        
        return this.parseExperienceResponse(response);
    }

    parseExperienceResponse(response) {
        const jobs = [];
        const lines = response.split('\n').filter(line => line.trim().length > 0);
        
        lines.forEach((line, index) => {
            const parts = line.split('|').map(part => part.trim());
            
            if (parts.length >= 5) {
                const job = {
                    title: this.cleanValue(parts[0]),
                    company: this.cleanValue(parts[1]),
                    location: this.cleanValue(parts[2]),
                    startDate: this.cleanValue(parts[3]),
                    endDate: this.cleanValue(parts[4]),
                    description: this.cleanValue(parts[5] || ''),
                    achievements: []
                };
                
                // Validate required fields
                if (job.title && job.company) {
                    jobs.push(job);
                    console.log(`Parsed job ${index + 1}: ${job.title} at ${job.company}`);
                } else {
                    console.warn(`Skipped invalid job entry: ${line}`);
                }
            }
        });
        
        if (jobs.length === 0) {
            throw new Error('No valid experience entries could be parsed');
        }
        
        console.log(`Successfully parsed ${jobs.length} jobs`);
        return jobs;
    }

    async enhanceExperienceEntries(jobs, cvText) {
        const enhancedJobs = [];
        
        for (let i = 0; i < jobs.length; i++) {
            const job = jobs[i];
            console.log(`Enhancing job ${i + 1}: ${job.title} at ${job.company}`);
            
            try {
                const enhanced = await this.enhanceSingleJob(job, cvText);
                enhancedJobs.push(enhanced);
            } catch (error) {
                console.error(`Failed to enhance job ${job.title}: ${error.message}`);
                // Keep original job if enhancement fails
                enhancedJobs.push(job);
            }
        }
        
        return enhancedJobs;
    }

    async enhanceSingleJob(job, cvText) {
        const prompt = `
Enhance this job experience by rewriting the description in FIRST PERSON and extracting achievements.

Job: ${job.title} at ${job.company}
Current Description: ${job.description}
Duration: ${job.startDate} to ${job.endDate}

Full CV Context:
${cvText.substring(0, 4000)}

REQUIREMENTS:
1. Rewrite description in FIRST PERSON (2-3 sentences max)
2. Extract 2-4 specific achievements as bullet points
3. Use action verbs and quantify results where possible
4. Make it compelling but stay factual
5. Focus on impact and results

Return in this format:
DESCRIPTION: [First-person description here]
ACHIEVEMENTS:
- [Achievement 1]
- [Achievement 2]
- [Achievement 3]
- [Achievement 4]

Enhanced job experience:`;

        const response = await this.generateSimpleText(prompt, `job enhancement for ${job.title}`);
        
        return this.parseEnhancedJobResponse(response, job);
    }

    parseEnhancedJobResponse(response, originalJob) {
        const lines = response.split('\n').map(line => line.trim()).filter(line => line.length > 0);
        
        let description = originalJob.description;
        const achievements = [];
        
        let inAchievements = false;
        
        lines.forEach(line => {
            if (line.startsWith('DESCRIPTION:')) {
                description = this.cleanValue(line.replace('DESCRIPTION:', ''));
            } else if (line.startsWith('ACHIEVEMENTS:')) {
                inAchievements = true;
            } else if (inAchievements && line.startsWith('-')) {
                const achievement = this.cleanValue(line.substring(1));
                if (achievement && achievement.length > 5) {
                    achievements.push(achievement);
                }
            }
        });
        
        // Validate enhanced content
        if (!description || description.length < 20) {
            console.warn(`Enhancement failed for ${originalJob.title}, using original description`);
            description = originalJob.description;
        }
        
        return {
            ...originalJob,
            description: description,
            achievements: achievements
        };
    }

    async getFallbackData(existingData = {}) {
        throw new Error('Experience extraction failed - no fallback available');
    }
}

module.exports = ExperienceProcessor;

[END OF FILE: lib\cv-processors\experience-processor.js]

--------------------------------------------------------------------------------
FILE: lib\cv-processors\personal-info-processor.js
SIZE: 6040 bytes (5.9 KB)
--------------------------------------------------------------------------------
// File: lib/cv-processors/personal-info-processor.js
const BaseProcessor = require('./base-processor');
const TextCleaner = require('../utils/text-cleaner');

class PersonalInfoProcessor extends BaseProcessor {
    constructor() {
        super();
    }

    async processText(cleanedText, existingData = {}) {
        console.log('👤 Extracting personal information...');
        
        // Step 1: Extract contact info using regex patterns
        const contactInfo = TextCleaner.extractContactInfo(cleanedText);
        
        // Step 2: Extract name using AI
        const nameData = await this.extractName(cleanedText);
        
        // Step 3: Extract location using AI
        const locationData = await this.extractLocation(cleanedText, contactInfo);
        
        // Step 4: Determine current job title
        const jobTitle = await this.extractCurrentJobTitle(cleanedText);
        
        // Combine all data
        const personalInfo = {
            name: this.cleanValue(nameData.name),
            email: contactInfo.emails[0] || '',
            phone: contactInfo.phones[0] || '',
            location: this.cleanValue(locationData.location),
            currentTitle: this.cleanValue(jobTitle)
        };
        
        this.logStats(personalInfo, 'extracted personal info');
        
        // Validate we have the minimum required data
        if (!personalInfo.name) {
            throw new Error('Unable to extract name from CV');
        }
        
        return { personalInfo };
    }

    async extractName(cvText) {
        const prompt = `
Extract the person's full name from this CV text.

CV Text:
${cvText.substring(0, 1000)}

Instructions:
- Look for the person's full name (usually at the top)
- Return only the name, nothing else
- If multiple names appear, choose the main person's name
- Do not include titles like Mr., Dr., etc.

Name:`;

        try {
            const response = await this.generateSimpleText(prompt, 'name extraction');
            const cleanedName = this.cleanValue(response);
            
            // Validate the name looks reasonable
            if (cleanedName && cleanedName.length > 1 && cleanedName.length < 50) {
                console.log(`✅ Name extracted: "${cleanedName}"`);
                return { name: cleanedName };
            } else {
                throw new Error('Invalid name format received');
            }
            
        } catch (error) {
            console.error('❌ AI name extraction failed:', error.message);
            
            // Fallback: try to find name using text patterns
            const candidates = TextCleaner.extractNameCandidates(cvText);
            if (candidates.length > 0) {
                console.log(`🔄 Using fallback name: "${candidates[0]}"`);
                return { name: candidates[0] };
            }
            
            throw new Error('Unable to extract name');
        }
    }

    async extractLocation(cvText, contactInfo) {
        // Start with any locations found by regex
        let locationCandidates = [...contactInfo.locations];
        
        const prompt = `
Extract the person's current location/address from this CV.

CV Text:
${cvText.substring(0, 2000)}

Instructions:
- Look for current address, city, state, country
- Return in format: City, State/Country
- If only city is mentioned, that's fine
- Do not include full street addresses
- Return only the location, nothing else

Location:`;

        try {
            const response = await this.generateSimpleText(prompt, 'location extraction');
            const cleanedLocation = this.cleanValue(response);
            
            if (cleanedLocation && cleanedLocation.length > 2) {
                console.log(`✅ Location extracted: "${cleanedLocation}"`);
                return { location: cleanedLocation };
            }
            
        } catch (error) {
            console.error('❌ AI location extraction failed:', error.message);
        }
        
        // Fallback to regex-found locations
        if (locationCandidates.length > 0) {
            console.log(`🔄 Using fallback location: "${locationCandidates[0]}"`);
            return { location: locationCandidates[0] };
        }
        
        return { location: '' };
    }

    async extractCurrentJobTitle(cvText) {
        const prompt = `
Extract the person's current job title from this CV.

CV Text:
${cvText.substring(0, 2000)}

Instructions:
- Look for their current position/job title
- Usually found near the top or in experience section
- Look for words like "Current", "Present", dates like 2024, 2025
- Return only the job title, not the company
- Examples: "Software Engineer", "Marketing Manager", "Data Analyst"

Current Job Title:`;

        try {
            const response = await this.generateSimpleText(prompt, 'job title extraction');
            const cleanedTitle = this.cleanValue(response);
            
            if (cleanedTitle && cleanedTitle.length > 2 && cleanedTitle.length < 100) {
                console.log(`✅ Job title extracted: "${cleanedTitle}"`);
                return cleanedTitle;
            }
            
        } catch (error) {
            console.error('❌ AI job title extraction failed:', error.message);
        }
        
        return 'Professional';
    }

    async getFallbackData(existingData = {}) {
        console.log('🔄 Generating fallback personal info...');
        
        return {
            personalInfo: {
                name: existingData.name || 'Professional',
                email: existingData.email || '',
                phone: existingData.phone || '',
                location: existingData.location || '',
                currentTitle: existingData.currentTitle || 'Professional'
            }
        };
    }
}

module.exports = PersonalInfoProcessor;

[END OF FILE: lib\cv-processors\personal-info-processor.js]

--------------------------------------------------------------------------------
FILE: lib\cv-processors\projects-processor.js
SIZE: 7229 bytes (7.1 KB)
--------------------------------------------------------------------------------
// File: lib/cv-processors/projects-processor.js
const BaseProcessor = require('./base-processor');

class ProjectsProcessor extends BaseProcessor {
    constructor() {
        super();
    }

    async processText(cleanedText, existingData = {}) {
        console.log('Extracting projects and portfolio work...');
        
        // Step 1: Extract projects data using AI
        const projectsList = await this.extractProjectsData(cleanedText);
        
        // Step 2: Enhance each project with better descriptions
        const enhancedProjects = await this.enhanceProjectEntries(projectsList, cleanedText);
        
        console.log(`Processed ${enhancedProjects.length} project entries`);
        this.logStats({ projects: enhancedProjects }, 'extracted projects');
        
        return { projects: enhancedProjects };
    }

    async extractProjectsData(cvText) {
        const prompt = `
Extract ALL projects from this CV for ANY profession. This includes professional projects, personal projects, portfolio work, significant accomplishments, and notable work.

Return each project in this EXACT format:
Project Name | Description | Technologies/Tools Used | URL/Link | Type

Rules:
- One project per line
- Use | as separator between fields
- Technologies/Tools can include software, methods, techniques, equipment used
- URL/Link can be empty if not mentioned
- Type should be: Professional, Personal, Academic, Volunteer, or Other
- Include ANY significant work or projects mentioned
- Works for ALL professions

Examples for different professions:
- Restaurant Menu Redesign | Created new seasonal menu with 15 dishes | Recipe development, cost analysis, food photography | | Professional
- E-commerce Website | Built online store for local business | React, Node.js, Stripe API | github.com/user/store | Personal  
- Student Reading Program | Developed literacy program for 50 students | Curriculum design, assessment tools | | Professional
- Community Garden Project | Organized neighborhood vegetable garden | Project management, fundraising | | Volunteer
- Wedding Cake Design | Custom 3-tier cake for 200 guests | Fondant work, sugar flowers, royal icing | instagram.com/cakes | Personal

CV Text:
${cvText}

Projects (format: Name | Description | Technologies | URL | Type):`;

        const response = await this.generateSimpleText(prompt, 'projects extraction');
        
        if (!response || response.trim().length === 0) {
            throw new Error('No projects data could be extracted from CV');
        }
        
        return this.parseProjectsResponse(response);
    }

    parseProjectsResponse(response) {
        const projects = [];
        const lines = response.split('\n').filter(line => line.trim().length > 0);
        
        lines.forEach((line, index) => {
            const parts = line.split('|').map(part => part.trim());
            
            if (parts.length >= 3) {
                const project = {
                    name: this.cleanValue(parts[0]),
                    description: this.cleanValue(parts[1]),
                    technologies: this.parseSkillsList(parts[2] || ''),
                    url: this.cleanValue(parts[3] || ''),
                    type: this.cleanValue(parts[4] || 'Other')
                };
                
                // Validate required fields
                if (project.name && project.description) {
                    projects.push(project);
                    console.log(`Parsed project ${index + 1}: ${project.name}`);
                } else {
                    console.warn(`Skipped invalid project entry: ${line}`);
                }
            }
        });
        
        if (projects.length === 0) {
            throw new Error('No valid project entries could be parsed');
        }
        
        console.log(`Successfully parsed ${projects.length} projects`);
        return projects;
    }

    parseSkillsList(skillsText) {
        if (!skillsText || skillsText.trim().length === 0) {
            return [];
        }
        
        return skillsText
            .split(',')
            .map(skill => this.cleanValue(skill))
            .filter(skill => skill && skill.length > 0);
    }

    async enhanceProjectEntries(projectsList, cvText) {
        const enhancedProjects = [];
        
        for (let i = 0; i < projectsList.length; i++) {
            const project = projectsList[i];
            console.log(`Enhancing project ${i + 1}: ${project.name}`);
            
            try {
                const enhanced = await this.enhanceSingleProject(project, cvText);
                enhancedProjects.push(enhanced);
            } catch (error) {
                console.error(`Failed to enhance project ${project.name}: ${error.message}`);
                // Keep original project if enhancement fails
                enhancedProjects.push(project);
            }
        }
        
        return enhancedProjects;
    }

    async enhanceSingleProject(project, cvText) {
        const prompt = `
Enhance this project by improving the description and making it more compelling.

Project: ${project.name}
Current Description: ${project.description}
Technologies: ${project.technologies.join(', ')}
Type: ${project.type}

Full CV Context:
${cvText.substring(0, 4000)}

REQUIREMENTS:
1. Rewrite description to be more compelling and professional (2-3 sentences max)
2. Highlight the impact, results, or significance of the project
3. Make it sound impressive while staying factual
4. Show problem-solving, innovation, or leadership if applicable
5. Use active language that demonstrates skills and value

Return in this format:
DESCRIPTION: [Enhanced description here]

Enhanced project:`;

        const response = await this.generateSimpleText(prompt, `project enhancement for ${project.name}`);
        
        return this.parseEnhancedProjectResponse(response, project);
    }

    parseEnhancedProjectResponse(response, originalProject) {
        const lines = response.split('\n').map(line => line.trim()).filter(line => line.length > 0);
        
        let description = originalProject.description;
        
        lines.forEach(line => {
            if (line.startsWith('DESCRIPTION:')) {
                const enhancedDesc = this.cleanValue(line.replace('DESCRIPTION:', ''));
                if (enhancedDesc && enhancedDesc.length > 10) {
                    description = enhancedDesc;
                }
            }
        });
        
        // Validate enhanced content
        if (!description || description.length < 10) {
            console.warn(`Enhancement failed for ${originalProject.name}, using original description`);
            description = originalProject.description;
        }
        
        return {
            ...originalProject,
            description: description
        };
    }

    async getFallbackData(existingData = {}) {
        throw new Error('Projects extraction failed - no fallback available');
    }
}

module.exports = ProjectsProcessor;

[END OF FILE: lib\cv-processors\projects-processor.js]

--------------------------------------------------------------------------------
FILE: lib\cv-processors\skills-processor.js
SIZE: 8077 bytes (7.9 KB)
--------------------------------------------------------------------------------
// File: lib/cv-processors/skills-processor.js
const BaseProcessor = require('./base-processor');

class SkillsProcessor extends BaseProcessor {
    constructor() {
        super();
    }

    async processText(cleanedText, existingData = {}) {
        console.log('Extracting and organizing skills...');
        
        // Step 1: Extract all skills from CV
        const extractedSkills = await this.extractAllSkills(cleanedText);
        
        // Step 2: Categorize and organize skills
        const organizedSkills = await this.organizeSkillsIntoCategories(extractedSkills, cleanedText);
        
        // Step 3: Validate and clean the results
        const finalSkills = this.validateAndCleanSkills(organizedSkills);
        
        console.log(`Processed skills: ${finalSkills.technical.length} technical, ${finalSkills.soft.length} soft, ${finalSkills.languages.length} languages`);
        this.logStats({ skills: finalSkills }, 'extracted skills');
        
        return { skills: finalSkills };
    }

    async extractAllSkills(cvText) {
        const prompt = `
Extract ALL skills, abilities, competencies, and qualifications mentioned in this CV for ANY profession.

CV Text:
${cvText}

INSTRUCTIONS:
- Find EVERY skill mentioned for ANY job type (cook, sales, teacher, nurse, engineer, etc.)
- Include professional skills relevant to their field
- Include soft skills (leadership, communication, teamwork, etc.)
- Include technical skills and tools (any software, equipment, systems)
- Include spoken languages
- Include certifications and qualifications
- Include industry-specific skills and knowledge
- Include interpersonal and management abilities
- One skill per line
- Do not categorize yet, just list everything
- Be comprehensive - include obvious and subtle skill mentions
- Work for ANY profession or industry

Examples of skills to look for:
- Cooking: Food preparation, menu planning, kitchen management, food safety
- Sales: Customer service, negotiation, CRM systems, lead generation
- Teaching: Curriculum development, classroom management, student assessment
- Nursing: Patient care, medical procedures, documentation, emergency response
- And ANY other profession mentioned in the CV

All Skills Found:`;

        const response = await this.generateSimpleText(prompt, 'comprehensive skills extraction for any profession');
        
        if (!response || response.trim().length === 0) {
            throw new Error('No skills could be extracted from CV');
        }
        
        return this.parseSkillsList(response);
    }

    parseSkillsList(response) {
        const skills = [];
        const lines = response.split('\n');
        
        lines.forEach(line => {
            const skill = this.cleanValue(line.replace(/^[-•*]\s*/, ''));
            if (skill && skill.length > 1 && skill.length < 50) {
                // Remove duplicates (case insensitive)
                const exists = skills.some(existing => 
                    existing.toLowerCase() === skill.toLowerCase()
                );
                if (!exists) {
                    skills.push(skill);
                }
            }
        });
        
        if (skills.length === 0) {
            throw new Error('No valid skills could be parsed from response');
        }
        
        console.log(`Extracted ${skills.length} total skills`);
        return skills;
    }

    async organizeSkillsIntoCategories(skillsList, cvText) {
        const skillsText = skillsList.join(', ');
        
        const prompt = `
Organize these skills into three categories for ANY profession: Professional/Technical, Interpersonal/Soft Skills, and Languages.

Skills to categorize: ${skillsText}

Context from CV:
${cvText.substring(0, 2000)}

CATEGORIZATION RULES FOR ANY PROFESSION:
- Professional/Technical: Job-specific skills, tools, software, equipment, procedures, certifications, industry knowledge
  Examples: Cooking techniques, sales software, teaching methods, medical procedures, programming, accounting software
- Interpersonal/Soft: Universal workplace skills like communication, leadership, teamwork, problem-solving, time management
  Examples: Leadership, communication, customer service, multitasking, attention to detail, conflict resolution
- Languages: Spoken/written languages like English, Spanish, French, etc.

Return in this EXACT format:
TECHNICAL:
skill1, skill2, skill3

SOFT:
skill1, skill2, skill3

LANGUAGES:
language1, language2

Categories:`;

        const response = await this.generateSimpleText(prompt, 'skills categorization for any profession');
        
        return this.parseSkillsCategories(response);
    }

    parseSkillsCategories(response) {
        const categories = {
            technical: [],
            soft: [],
            languages: []
        };
        
        const lines = response.split('\n').map(line => line.trim());
        let currentCategory = null;
        
        lines.forEach(line => {
            if (line.toUpperCase().startsWith('TECHNICAL:')) {
                currentCategory = 'technical';
                const skills = line.replace(/^TECHNICAL:\s*/i, '');
                if (skills) {
                    this.addSkillsToCategory(categories.technical, skills);
                }
            } else if (line.toUpperCase().startsWith('SOFT:')) {
                currentCategory = 'soft';
                const skills = line.replace(/^SOFT:\s*/i, '');
                if (skills) {
                    this.addSkillsToCategory(categories.soft, skills);
                }
            } else if (line.toUpperCase().startsWith('LANGUAGES:')) {
                currentCategory = 'languages';
                const skills = line.replace(/^LANGUAGES:\s*/i, '');
                if (skills) {
                    this.addSkillsToCategory(categories.languages, skills);
                }
            } else if (currentCategory && line && !line.includes(':')) {
                this.addSkillsToCategory(categories[currentCategory], line);
            }
        });
        
        return categories;
    }

    addSkillsToCategory(categoryArray, skillsText) {
        const skills = skillsText.split(',').map(skill => this.cleanValue(skill));
        
        skills.forEach(skill => {
            if (skill && skill.length > 1 && skill.length < 30) {
                // Check for duplicates (case insensitive)
                const exists = categoryArray.some(existing => 
                    existing.toLowerCase() === skill.toLowerCase()
                );
                if (!exists) {
                    categoryArray.push(skill);
                }
            }
        });
    }

    validateAndCleanSkills(skills) {
        const cleaned = {
            technical: this.cleanSkillsArray(skills.technical || []).slice(0, 15),
            soft: this.cleanSkillsArray(skills.soft || []).slice(0, 10),
            languages: this.cleanSkillsArray(skills.languages || []).slice(0, 5)
        };
        
        // Ensure we have at least some skills
        if (cleaned.technical.length === 0 && cleaned.soft.length === 0) {
            throw new Error('No valid skills categories could be created');
        }
        
        return cleaned;
    }

    cleanSkillsArray(skillsArray) {
        return skillsArray
            .map(skill => this.cleanValue(skill))
            .filter(skill => skill && skill.length > 1 && skill.length < 30)
            .filter((skill, index, array) => 
                // Remove duplicates (case insensitive)
                index === array.findIndex(s => s.toLowerCase() === skill.toLowerCase())
            )
            .sort(); // Sort alphabetically
    }

    async getFallbackData(existingData = {}) {
        throw new Error('Skills extraction failed - no fallback available');
    }
}

module.exports = SkillsProcessor;

[END OF FILE: lib\cv-processors\skills-processor.js]

--------------------------------------------------------------------------------
FILE: lib\utils\gemini-client.js
SIZE: 3609 bytes (3.5 KB)
--------------------------------------------------------------------------------
// File: lib/utils/gemini-client.js
const { GoogleGenerativeAI } = require('@google/generative-ai');

class GeminiClient {
    constructor() {
        if (!process.env.GEMINI_API_KEY) {
            throw new Error('GEMINI_API_KEY environment variable is required');
        }

        this.genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);
        this.model = this.genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
        
        console.log('✅ Gemini client initialized');
    }

    async generateText(prompt, options = {}) {
        const {
            maxRetries = 3,
            timeout = 30000,
            description = 'AI request'
        } = options;

        console.log(`🤖 ${description} - sending request to Gemini...`);
        console.log(`📝 Prompt length: ${prompt.length} characters`);

        for (let attempt = 1; attempt <= maxRetries; attempt++) {
            try {
                const result = await this.model.generateContent(prompt);
                const response = await result.response;
                const text = response.text().trim();

                console.log(`✅ ${description} - received response (${text.length} chars)`);
                return text;

            } catch (error) {
                console.error(`❌ ${description} - attempt ${attempt}/${maxRetries} failed:`, error.message);
                
                if (attempt === maxRetries) {
                    if (error.message.includes('API_KEY_INVALID')) {
                        throw new Error('Invalid Gemini API key. Please check your GEMINI_API_KEY.');
                    } else if (error.message.includes('QUOTA_EXCEEDED')) {
                        throw new Error('Gemini API quota exceeded. Please check your usage limits.');
                    } else {
                        throw new Error(`${description} failed: ${error.message}`);
                    }
                }
                
                // Wait before retry (exponential backoff)
                await this.delay(1000 * attempt);
            }
        }
    }

    async generateSimpleText(prompt, description = 'Text generation') {
        const enhancedPrompt = `
${prompt}

IMPORTANT RULES:
- Return ONLY the requested text
- No markdown formatting
- No explanations or extra text
- No quotes around the response
- Keep response concise and professional
`;

        return await this.generateText(enhancedPrompt, { description });
    }

    async extractSimpleData(prompt, description = 'Data extraction') {
        const enhancedPrompt = `
${prompt}

CRITICAL INSTRUCTIONS:
- Return ONLY the requested information
- Use simple format: field=value
- One line per field
- No extra text or explanations
- If field not found, write: field=
`;

        return await this.generateText(enhancedPrompt, { description });
    }

    delay(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }

    // Utility method to test if client is working
    async testConnection() {
        // try {
        //     const response = await this.generateSimpleText(
        //         'Say hello in one word.',
        //         'Connection test'
        //     );
            
        //     console.log('🎉 Gemini client test successful:', response);
        //     return true;
        // } catch (error) {
        //     console.error('💥 Gemini client test failed:', error.message);
        //     return false;
        // }
    }
}

module.exports = GeminiClient;

[END OF FILE: lib\utils\gemini-client.js]

--------------------------------------------------------------------------------
FILE: lib\utils\text-cleaner.js
SIZE: 6426 bytes (6.3 KB)
--------------------------------------------------------------------------------
// File: lib/utils/text-cleaner.js

class TextCleaner {
    
    static cleanExtractedText(text) {
        if (!text || typeof text !== 'string') {
            return '';
        }

        let cleaned = text;

        // Remove excessive whitespace
        cleaned = cleaned.replace(/\s+/g, ' ');
        
        // Remove page breaks and form feeds
        cleaned = cleaned.replace(/\f/g, '\n');
        
        // Normalize line breaks
        cleaned = cleaned.replace(/\r\n/g, '\n');
        cleaned = cleaned.replace(/\r/g, '\n');
        
        // Remove excessive line breaks (more than 2 consecutive)
        cleaned = cleaned.replace(/\n{3,}/g, '\n\n');
        
        // Clean up bullet points and formatting
        cleaned = cleaned.replace(/[•▪▫‣⁃]/g, '- ');
        cleaned = cleaned.replace(/[→←↑↓]/g, ' ');
        
        // Remove weird characters that cause issues
        cleaned = cleaned.replace(/[\u200B-\u200D\uFEFF]/g, ''); // Zero-width spaces
        cleaned = cleaned.replace(/[^\x00-\x7F\u00A0-\u024F\u1E00-\u1EFF]/g, ' '); // Keep basic Latin + extensions
        
        // Trim and normalize
        cleaned = cleaned.trim();
        
        console.log(`📝 Text cleaned: ${text.length} → ${cleaned.length} characters`);
        return cleaned;
    }

    static extractContactInfo(text) {
        const contactInfo = {
            emails: [],
            phones: [],
            locations: []
        };

        // Extract emails
        const emailRegex = /\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g;
        const emails = text.match(emailRegex) || [];
        contactInfo.emails = [...new Set(emails)]; // Remove duplicates

        // Extract phone numbers (various formats)
        const phoneRegex = /(?:\+?1[-.\s]?)?\(?[0-9]{3}\)?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4}|\+?[0-9]{1,4}[-.\s]?[0-9]{2,3}[-.\s]?[0-9]{3,4}[-.\s]?[0-9]{3,4}/g;
        const phones = text.match(phoneRegex) || [];
        contactInfo.phones = [...new Set(phones)];

        // Extract potential locations (basic patterns)
        const locationKeywords = ['address', 'location', 'city', 'state', 'country'];
        const lines = text.split('\n');
        
        lines.forEach(line => {
            const lowerLine = line.toLowerCase();
            if (locationKeywords.some(keyword => lowerLine.includes(keyword))) {
                // Clean up the line and add if it looks like location info
                const cleanLocation = line.replace(/^(address|location|city|state|country)[\s:]*/, '').trim();
                if (cleanLocation.length > 3 && cleanLocation.length < 100) {
                    contactInfo.locations.push(cleanLocation);
                }
            }
        });

        console.log('📍 Contact info extracted:', {
            emails: contactInfo.emails.length,
            phones: contactInfo.phones.length,
            locations: contactInfo.locations.length
        });

        return contactInfo;
    }

    static extractNameCandidates(text) {
        const candidates = [];
        const lines = text.split('\n');
        
        // Look for name patterns in the first few lines
        for (let i = 0; i < Math.min(10, lines.length); i++) {
            const line = lines[i].trim();
            
            // Skip if too short or too long
            if (line.length < 3 || line.length > 50) continue;
            
            // Skip if contains numbers or special chars (likely not a name)
            if (/[0-9@#$%^&*()+=\[\]{}|\\:";'<>?,./]/.test(line)) continue;
            
            // Skip common CV headers
            const skipWords = ['resume', 'curriculum', 'vitae', 'cv', 'profile', 'summary', 'experience', 'education', 'skills'];
            if (skipWords.some(word => line.toLowerCase().includes(word))) continue;
            
            // Check if it looks like a name (2-4 words, proper case)
            const words = line.split(/\s+/);
            if (words.length >= 2 && words.length <= 4) {
                if (words.every(word => /^[A-Za-z][a-z]*$/.test(word) && word.length > 1)) {
                    candidates.push(line);
                }
            }
        }

        console.log(`👤 Name candidates found: ${candidates.length}`);
        return candidates;
    }

    static limitTextLength(text, maxLength = 25000) {
        if (!text || text.length <= maxLength) {
            return text;
        }

        // Try to cut at a sentence or paragraph boundary
        const truncated = text.substring(0, maxLength);
        const lastPeriod = truncated.lastIndexOf('.');
        const lastNewline = truncated.lastIndexOf('\n');
        
        const cutPoint = Math.max(lastPeriod, lastNewline);
        
        if (cutPoint > maxLength * 0.8) {
            return truncated.substring(0, cutPoint + 1) + '\n\n[Content truncated due to length]';
        }
        
        return truncated + '\n\n[Content truncated due to length]';
    }

    static removeCommonHeaders(text) {
        const lines = text.split('\n');
        const cleanedLines = [];
        
        const skipPatterns = [
            /^(page \d+ of \d+|page \d+)$/i,
            /^(curriculum vitae|resume|cv)$/i,
            /^(personal information|contact information)$/i,
            /^(confidential|private)$/i,
        ];

        lines.forEach(line => {
            const trimmed = line.trim();
            
            // Skip empty lines at the beginning
            if (cleanedLines.length === 0 && !trimmed) {
                return;
            }
            
            // Skip lines that match common headers
            if (!skipPatterns.some(pattern => pattern.test(trimmed))) {
                cleanedLines.push(line);
            }
        });

        return cleanedLines.join('\n');
    }

    static prepareForAI(text) {
        // Full cleaning pipeline for AI processing
        let prepared = text;
        
        prepared = this.cleanExtractedText(prepared);
        prepared = this.removeCommonHeaders(prepared);
        prepared = this.limitTextLength(prepared);
        
        console.log(`🤖 Text prepared for AI: ${prepared.length} characters`);
        return prepared;
    }
}

module.exports = TextCleaner;

[END OF FILE: lib\utils\text-cleaner.js]

=====================================
DIRECTORY: database
PATH: C:\Coding\cv-landing-generator\database
=====================================

========================================
COLLECTION SUMMARY
========================================
Total Files Processed: 62
Generated: 07/10/2025 08:22:10
Processing Time: 00:00:15.1380785
